{"version":3,"sources":["../src/main-widget-config.es6"],"names":["DEFAULT_API_KEY","apiKeyService","checkApiKeyCookie","getApiWidgetsKey","getHeightByTheme","theme","getBorderByTheme","getGooleApiKey","code","widget","widgetsMap","themeConfig","sizes","s","width","height","layout","m","custom","initSliderSize","maxWidth","minWidth","isPostalCodeChanged","$widthController","$","slider","tooltip","handle","$borderRadiusController","$colorSchemeSelector","on","e","windowScroll","$window","window","$containerWidget","$configBlock","window_min","window_max","desktopWidth","threshold_offset","setLimits","topCss","css","parseInt","headerOffset","max_move","offset","top","min_move","data","innerWidth","j","updateScroll","scrollTop","containerMove","setTimeout","containerMove_clearOffset","marginTop","min","max","wst","replaceApiKey","options","userKey","sessionStorage","getItem","inputApiKey","widgetNode","attr","val","setAttribute","update","document","querySelector","changeState","event","target","name","targetValue","value","targetName","$tabButtons","getElementById","replace","hide","show","getAttribute","sizeConfig","setValue","style","widthSlider","slideUp","slideDown","prop","resetWidget","configForm","find","each","$self","defaultValue","sliderValue","sliderMax","sliderMin","activeItems","querySelectorAll","activeItemsLenght","length","i","classList","remove","map","item","removeAttribute","removeClass","onLoadCoordinate","$configForm","$widgetModal","$widgetModalNoCode","$widgetModalMap","trigger","preventDefault","is","googleKey","codeCont","htmlCode","createElement","key","config","tmp","appendChild","textContent","innerHTML","modal","addClass","latlong","countrycode","postalcode","city","undefined","results","countryShortName","addCustomList","listWrapperElement","listWrapperId","activeVal","$listOption","$placeholder","$ul","html","append","text","clearDropDownInput","elemIds"],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\n\n    const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\n\n    function getHeightByTheme(theme){\n        return (theme === 'simple' ? 286 : 339);\n    }\n\n    function getBorderByTheme(theme) {\n        switch (theme) {\n            case 'simple':\n                return 1;\n                break;\n            default:\n                return 2;\n        }\n    }\n\n    function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\n\n    let widget = widgetsMap[0],\n        themeConfig = {\n            sizes: {\n                s: {\n                    width: 300,\n                    height: 250,\n                    layout: 'vertical'\n                },\n                m: {\n                    width: 300,\n                    height: 600,\n                    layout: 'horizontal'\n                },\n                custom: {\n                    width: 350,\n                    height: 600,\n                    layout: 'vertical'\n                }\n            },\n            initSliderSize: {\n                width: 350,\n                height: 600,\n                maxWidth: 500,\n                minWidth: 350\n            }\n        },\n        isPostalCodeChanged = false;\n\n    var $widthController = $('#w-width').slider({\n            tooltip: 'always',\n            handle: 'square'\n        }),\n        $borderRadiusController = $('#w-borderradius').slider({\n            tooltip: 'always',\n            handle: 'square'\n        }),\n        $colorSchemeSelector = $('.widget__color_scheme_control');\n\n    $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\n        $widthController.slider('relayout');\n        $borderRadiusController.slider('relayout');\n        windowScroll(); //recalculate widget container position\n    });\n\n    //variables for fixed widget\n    var $window = $(window),\n        $containerWidget = $(\".widget-container-wrapper\"),\n        $configBlock = $(\".config-block\"),\n        window_min = 0,\n        window_max = 0,\n        desktopWidth = 1200,\n        threshold_offset = 50;\n    /*\n     set the container's maximum and minimum limits as well as movement thresholds\n     */\n    function setLimits(){\n        //max and min container movements\n        var topCss = ($containerWidget.css(\"top\")>0) ? parseInt($containerWidget.css(\"top\")) : 0;\n        var headerOffset = $('.top-bar').height() + /*padding of top-bar*/8 + /*bottom-margin*/10;\n        var max_move = $configBlock.offset().top + $configBlock.height() - $containerWidget.height() - topCss - headerOffset;\n        var min_move = $configBlock.offset().top - headerOffset;\n\n        $containerWidget\n            .data('min', min_move)\n            .data('max', max_move);\n\n        //window thresholds so the movement isn't called when its not needed!\n        window_min = min_move - threshold_offset;\n        window_max = max_move + $containerWidget.height() + threshold_offset;\n    }\n    //sets the limits for the first load\n    setLimits();\n\n    function windowScroll(){\n        let innerWidth = window.innerWidth;\n        let j = 0;\n        function updateScroll() {\n            //if the window is within the threshold, begin movements\n            if ($window.scrollTop() >= window_min && $window.scrollTop() < window_max) {\n                if ($containerWidget.height() < $configBlock.height() && innerWidth >= desktopWidth) {\n                    //reset the limits (optional)\n                    setLimits();\n                    //move the container\n                    containerMove();\n                }\n            }\n            j++;\n        }\n        if(j === 0) updateScroll();\n\n        setTimeout(() => {\n            if (innerWidth < desktopWidth && $containerWidget.height() > $configBlock.height()) {\n                // console.log('*** ', j , innerWidth ,'<', desktopWidth );\n                containerMove_clearOffset();\n                updateScroll();\n            }\n            if($containerWidget.height() < $configBlock.height() || innerWidth >= desktopWidth) {\n                // console.log('ignore ',j);\n                if( innerWidth < desktopWidth ){\n                    containerMove_clearOffset();\n                }\n                updateScroll();\n            }\n        }, 200);\n\n    }\n\n    $window.on(\"scroll load resize\", windowScroll);\n\n    /**\n     * Clear top offset of widget container\n     */\n    function containerMove_clearOffset(){\n        $containerWidget.css(\"margin-top\", 0);\n    }\n    /**\n     * Handles moving the container if needed.\n     **/\n    function containerMove(){\n        let marginTop = 0;\n        const wst = $window.scrollTop(),\n            {min, max} = $containerWidget.data();\n\n        //if the window scroll is within the min and max (the container will be 'sticky';\n        if( wst >= min && wst <= max ){\n            //if the window scroll is below the minimum move it down!\n            marginTop = wst - min;\n        }else if( wst > max ){\n            marginTop = max - min;\n        }\n        $containerWidget.css('marginTop', (marginTop > 0 ? marginTop : 0));\n    }\n    //do one container move on load\n    containerMove();\n\n    var replaceApiKey = function (options) {\n        let userKey = options.userKey || sessionStorage.getItem('tk-api-key') || DEFAULT_API_KEY;\n\n        if(userKey !== null) {\n            let {inputApiKey, widgetNode , widget } = options;\n            inputApiKey\n                .attr('value',userKey)\n                .val(userKey);\n            widgetNode.setAttribute(\"w-tmapikey\", userKey);\n            widget.update();\n        }\n    };\n    replaceApiKey({\n        inputApiKey:$('#w-tm-api-key'),\n        widgetNode: document.querySelector(\"div[w-tmapikey]\"),\n        widget\n    });\n\n\n    var changeState = function(event){\n        if(!event.target.name || event.target.name === \"w-googleapikey\") return;\n\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n            targetValue = event.target.value,\n            targetName = event.target.name,\n            $tabButtons = $('.js-tab-buttons');\n\n        if(targetName === \"w-tm-api-key\") {\n            document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', targetValue);\n\n            if (sessionStorage.getItem('tk-api-key')) {\n                document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n                document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n            }\n            if (document.getElementById('w-tm-api-key').value == '') {\n                if (sessionStorage.getItem('tk-api-key')) {\n                    document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\n                    document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\n                }\n                else {\n                    document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\n                    document.querySelector('[w-type=\"map\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\n                }\n            }\n        }\n\n        if(targetName === \"w-latlong\"){\n            if (targetValue == '') {\n                document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\n                targetValue = document.getElementById('w-latlong').value;\n            }\n            document.querySelector('[w-type=\"map\"]').setAttribute('w-latlong', targetValue.replace(/\\s+/g, ''));\n        }\n\n        if(targetName === \"w-postalcode\"){\n            widgetNode.setAttribute('w-country', '');\n            widgetNode.setAttribute('w-postalcode', document.getElementById('w-postalcode').value);\n            isPostalCodeChanged = true;\n        }\n\n        if(targetName === \"w-theme\"){\n            if(targetValue === 'simple'){\n                $colorSchemeSelector.hide();\n            }else{\n                $colorSchemeSelector.show();\n            }\n\n            if(widgetNode.getAttribute('w-layout') === 'horizontal'){\n                widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\n            }\n            widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\n        }\n\n        if(targetName === \"w-layout\"){\n            let sizeConfig = themeConfig.initSliderSize;\n            if(targetValue === 'horizontal'){\n                sizeConfig = {\n                    width: 620,\n                    height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\n                    maxWidth: 900,\n                    minWidth: 620\n                };\n            }\n\n            $widthController.slider({\n                setValue: sizeConfig.width ,\n                max: sizeConfig.maxWidth,\n                min: sizeConfig.minWidth\n            })\n                .slider('refresh');\n\n            document.getElementById('map').style.width = sizeConfig.width + 'px';\n            document.getElementById('map').style.height = sizeConfig.height + 'px';\n            widgetNode.setAttribute('w-width', sizeConfig.width);\n            widgetNode.setAttribute('w-height', sizeConfig.height);\n        }\n\n        if(targetName === \"w-width\") {\n            document.getElementById('map').style.width = widgetNode.getAttribute('w-width') + 'px';\n            document.getElementById('map').style.height = widgetNode.getAttribute('w-height') + 'px';\n        }\n\n        //Check fixed sizes for 'simple' theme\n        if(targetName === \"w-proportion\") {\n            let widthSlider = $('.js_widget_width_slider');\n            let sizeConfig = {\n                width: themeConfig.sizes[targetValue].width,\n                height: themeConfig.sizes[targetValue].height,\n                maxWidth: 1200,\n                minWidth: 350\n            };\n\n            document.getElementById('map').style.width = themeConfig.sizes[targetValue].width + 'px';\n            document.getElementById('map').style.height = themeConfig.sizes[targetValue].height + 'px';\n\n            //set layout\n            widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\n\n            if (targetValue !== 'custom') {\n                $tabButtons.slideUp(\"fast\");\n                widthSlider.slideUp(\"fast\");\n            }else{\n                $tabButtons.slideDown(\"fast\");\n                widthSlider.slideDown(\"fast\");\n                $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\n\n                sizeConfig = { //default size\n                    width: themeConfig.initSliderSize.width,  //350\n                    height: themeConfig.initSliderSize.height,  //600\n                    maxWidth: themeConfig.initSliderSize.maxWidth,  //500\n                    minWidth: themeConfig.initSliderSize.minWidth // 350\n                };\n                $widthController.slider({\n                    setValue: sizeConfig.width,\n                    max: sizeConfig.maxWidth,\n                    min: sizeConfig.minWidth\n                })\n                    .slider('refresh');\n\n            }\n\n            widgetNode.setAttribute('w-width', sizeConfig.width);\n            widgetNode.setAttribute('w-height', sizeConfig.height);\n        }\n\n        if (event.target.name != 'w-latlong') widgetNode.setAttribute(event.target.name, event.target.value);\n        widget.update();\n        windowScroll(); //recalculate widget container position\n    };\n\n    var resetWidget = function(configForm) {\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\n            width = 350,\n            height = 600,\n            theme,\n            layout;\n        const widthSlider = $('.js_widget_width_slider'),\n            $tabButtons = $('.js-tab-buttons');\n\n        configForm.find(\"input[type='text'], input[type='number']\").each(function(){\n            let $self = $(this),\n                data = $self.data(),\n                value = data.defaultValue;\n\n            if(data.sliderValue){\n                value = data.sliderValue;\n                $self.slider({\n                    setValue: value,\n                    max: data.sliderMax,\n                    min: data.sliderMin\n                })\n                    .slider('refresh');\n            }else{\n                $self.val(value);\n            }\n\n            var activeItems = document.querySelectorAll('.custom_select__item.custom_select__item-active');\n            var activeItemsLenght = activeItems.length;\n            for (let i = 0; i < activeItemsLenght; ++i) {\n                activeItems[i].classList.remove('custom_select__item-active');\n            }\n\n            [\"#w-countryCode\",\"#w-source\"].map((item)=> {\n                $(item).prop(\"selectedIndex\", -1);\n            });\n            widgetNode.setAttribute($self.attr('name'), value);\n            if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\n\n        });\n\n        configForm.find(\"input[type='radio']\").each(function(){\n            var $self = $(this);\n            if($self.data('is-checked')){\n                let name = $self.attr('name'),\n                    val = $self.val();\n                if(name === 'w-theme'){\n                    theme = val;\n                }else if(name === 'w-layout'){\n                    layout = val;\n                }else if(name === 'w-proportion'){\n                    $tabButtons.slideDown(\"fast\");\n                    widthSlider.slideDown(\"fast\");\n                }\n                $self.prop('checked', true);\n                widgetNode.setAttribute($self.attr('name'), val);\n            }\n        });\n\n        if(layout === 'horizontal'){\n            height = getHeightByTheme(theme);\n        }\n        widgetNode.setAttribute('w-width', width);\n        widgetNode.setAttribute('w-height', height);\n        widgetNode.setAttribute('w-border', 0);\n        widgetNode.removeAttribute('w-countryCode');\n        widgetNode.removeAttribute('w-source');\n\n        $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\n        document.getElementById('map').style.width = '350px';\n        document.getElementById('map').style.height = '600px';\n        widget.onLoadCoordinate();\n        widget.update();\n        // document.querySelector('.widget-container-wrapper').removeAttribute('style');\n        containerMove();\n    };\n\n    var $configForm = $(\".main-widget-config-form\"),\n        $widgetModal = $('#js_widget_modal'),\n        $widgetModalNoCode = $('#js_widget_modal_no_code'),\n        $widgetModalMap = $('#js_widget_modal_map');\n\n    $configForm.on(\"change\", changeState);\n    // Mobile devices. Force 'change' by 'Go' press\n    $configForm.on(\"submit\", function (e) {\n        $configForm.find('input:focus').trigger('blur');\n        e.preventDefault();\n    });\n\n    $configForm.find(\"input[type='text'], input[type='number'], input[type='checkbox']\").each(function(){\n        var $self = $(this);\n        $self.data('default-value', $self.val());\n    });\n\n    $configForm.find(\"input[type='radio']\").each(function(){\n        var $self = $(this);\n        if($self.is(':checked'))\n            $self.data('is-checked', 'checked');\n    });\n\n    $('.js_get_widget_code').on('click', function(){\n        var googleKey = 'YOUR_GOOGLE_API_KEY';\n        var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\n        var htmlCode = document.createElement(\"div\");\n        for(var key in widget.config){\n          htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\n        }\n        // Use only Key from config form\n        htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\n        htmlCode.setAttribute('w-latlong', document.getElementById('w-latlong').value.replace(/\\s+/g, ''));\n        if (document.getElementById('w-googleapikey').value != '') {\n            googleKey = document.getElementById('w-googleapikey').value;\n            htmlCode.setAttribute('w-googleapikey', googleKey);\n        }\n        else {\n            htmlCode.setAttribute('w-googleapikey', googleKey);\n        }\n        var tmp = document.createElement(\"div\");\n        tmp.appendChild(htmlCode);\n        codeCont.textContent = tmp.innerHTML;\n        document.getElementById('widget-code-script').innerHTML = '&lt;script src=\"https://maps.googleapis.com/maps/api/js?key=' + googleKey + '&libraries=visualization,places\" async defer&gt;&lt;/script&gt;<br />&lt;script src=\"https://ticketmaster-api-staging.github.io/products-and-docs/widgets/map/1.0.0/lib/main-widget.js\"&gt;&lt;/script&gt;';\n\n\n        $widgetModal.modal();\n    });\n\n    $('.js_reset_widget').on('click', function(){\n        resetWidget($configForm);\n    });\n\n    $('#js_widget_modal__close').on('click', function(){\n        $widgetModal.modal('hide');\n    });\n\n    $('#js_widget_modal_no_code__close').on('click', function(){\n        $widgetModalNoCode.modal('hide');\n    });\n\n    $('#js_widget_modal_map__open').on('click', function(e){\n        e.preventDefault();\n        $widgetModalMap.modal();\n    });\n\n    $('#js_widget_modal_map__close').on('click', function(){\n        $widgetModalMap.modal('hide');\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-latlong', document.getElementById('w-latlong').value.replace(/\\s+/g, ''));\n        widget.update();\n    });\n\n    $('.widget__location span').on('click', function(){\n        $('.widget__location').addClass('hidn');\n        $('.widget__latlong').removeClass('hidn');\n        document.getElementById('h-countryCode').value = document.getElementById('w-countryCode').value;\n        document.getElementById('h-postalcode').value = document.getElementById('w-postalcode').value;\n        document.getElementById('h-city').value = document.getElementById('w-city').value;\n        document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\n        widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-latlong', widget.config.latlong);\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-countrycode');\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-postalcode');\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-city');\n        widget.config.countrycode = '';\n        widget.config.postalcode = '';\n        widget.config.city = '';\n        widget.update();\n    });\n\n    $('.widget__latlong span').on('click', function(){\n        $('.widget__latlong').addClass('hidn');\n        $('.widget__location').removeClass('hidn');\n        document.getElementById('h-latlong').value = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\n        document.getElementById('w-latlong').value = '';\n        document.querySelector('[w-type=\"map\"]').removeAttribute('w-latlong');\n        document.getElementById('w-countryCode').value = document.getElementById('h-countryCode').value;\n        document.getElementById('w-postalcode').value = document.getElementById('h-postalcode').value;\n        document.getElementById('w-city').value = document.getElementById('h-city').value;\n        widget.config.countrycode = document.getElementById('w-countryCode').value;\n        widget.config.postalcode = document.getElementById('w-postalcode').value;\n        widget.config.city = document.getElementById('w-city').value;\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-countrycode', widget.config.countrycode);\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-postalcode', widget.config.postalcode);\n        document.querySelector('[w-type=\"map\"]').setAttribute('w-city', widget.config.city);\n        widget.config.latlong = '';\n        widget.update();\n    });\n\n    $('#w-geoposition').on('click', function(){\n        if ($(this).val() == undefined || $(this).val() == 'off') {\n            document.querySelector('[w-type=\"map\"]').setAttribute(\"w-geoposition\", \"on\");\n            $(this).val('on');\n        }\n        else {\n            document.querySelector('[w-type=\"map\"]').setAttribute(\"w-geoposition\", \"off\");\n            $(this).val('off');\n        }\n    });\n\n    widget.onLoadCoordinate = function (results, countryShortName = '') {\n    };\n\n    function addCustomList(listWrapperElement, listWrapperId, activeVal) {\n        var $listOption = $(listWrapperId).find('option'),//update list\n            $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\n            $ul = listWrapperElement;\n\n        $placeholder.val( $listOption.html() );\n\n        $listOption.each(function () {\n            var data = {\n                value: $(this).val()\n            };\n            $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\n        });\n    }\n\n    function clearDropDownInput(elemIds) {\n        elemIds.map((item)=> {\n            $(item).val('');\n        } );\n    }\n\n\n    // Set min widget size on mobile devices\n    if(parseInt($(window).width(), 10) < 767){\n        $('#w-fixed-300x250').trigger('click');\n    }\n})();\n"]}