{"version":3,"sources":["../src/main-widget.es6"],"names":[],"mappings":";;;;;;IAAM;;;iDAyCyB,MAAM;AACjC,UAAI,CAAC,KAAK,MAAL,CAAY,cAAZ,CAA2B,IAA3B,CAAD,IAAqC,KAAK,MAAL,CAAY,IAAZ,MAAsB,WAAtB,EAAkC;AACzE,eAAO,KAAP,CADyE;OAA3E,MAEM,IAAI,KAAK,MAAL,CAAY,IAAZ,MAAsB,EAAtB,EAAyB;AACjC,eAAO,KAAP,CADiC;OAA7B;AAGN,aAAO,IAAP,CANiC;;;;sBAvCxB,OAAO;AAAE,WAAK,YAAL,GAAoB,KAAK,UAAL,CAAgB,KAAhB,CAApB,CAAF;;wBACL;AAAE,aAAO,KAAK,YAAL,CAAT;;;;sBAEF,UAAS;AAAE,WAAK,UAAL,GAAkB,KAAK,WAAL,CAAiB,QAAjB,CAAlB,CAAF;;wBACR;AAAE,aAAO,KAAK,UAAL,CAAT;;;;wBAEI;AAAE,aAAO,KAAK,MAAL,CAAY,KAAZ,KAAsB,UAAtB,CAAT;;;;wBACA;AAAE,aAAO,KAAK,MAAL,CAAY,MAAZ,IAAsB,CAAtB,CAAT;;;;wBACE;AAAE,aAAO,KAAK,MAAL,CAAY,MAAZ,IAAsB,GAAtB,CAAT;;;;wBACO;AAAE,aAAO,KAAK,YAAL,IAAqB,KAAK,UAAL,GAAkB,CAAlB,GAAsB,EAAtB,CAArB,IAAkD,GAAlD,CAAT;;;;wBAEX;AAAE,aAAO,oCAAP,CAAF;;;;wBAEF;AAAE,aAAO,uDAAP,CAAF;;;;wBAEG;AAAE,aAAO,kGAAP,CAAF;;;;wBAEA;AAAE,aAAO,4CAAP,CAAF;;;;wBAED;AAAE,aAAO,oCAAP,CAAF;;;;wBAEO;AAAE,aAAO,yDAAP,CAAF;;;;wBAEH;AAAE,aAAO,gDAAP,CAAF;;;;wBAED;AAAE,aAAO,mDAAP,CAAF;;;;wBAEM;AAAE,aAAO,CAAC,OAAD,EAAU,QAAV,EAAoB,QAApB,EAA8B,cAA9B,EAA8C,aAA9C,EAA6D,QAA7D,EAAuE,aAAvE,EAAsF,WAAtF,EAAmG,cAAnG,CAAP,CAAF;;;;wBAEN;AAAE,aAAO,IAAP,CAAF;;;;wBAEO;AAAE,aAAO,IAAP,CAAF;;;;wBAEF;AAAE,aAAO,IAAP,CAAF;;;;wBAEE;AAAE,aAAO,uBAAP,CAAF;;;;wBAED;AAAE,aAAO,CAAC,kBAAD,EAAqB,kBAArB,EAAyC,kBAAzC,EAA6D,kBAA7D,EAAiF,kBAAjF,EAAqG,kBAArG,EAAyH,kBAAzH,EAA6I,kBAA7I,EAAiK,kBAAjK,EAAqL,kBAArL,EAAyM,kBAAzM,EAA6N,kBAA7N,EAAiP,kBAAjP,EAAqQ,kBAArQ,EAAyR,kBAAzR,EAA6S,kBAA7S,EAAiU,kBAAjU,EAAqV,kBAArV,CAAP,CAAF;;;;wBAWJ;AACjB,UAAI,QAAQ,EAAR;UACJ,SAAS,CACP;AACE,cAAM,UAAN;AACA,qBAAa,QAAb;OAHK,EAKP;AACE,cAAM,SAAN;AACA,qBAAa,SAAb;OAPK,EASP;AACE,cAAM,MAAN;AACA,qBAAa,MAAb;OAXK,EAaP;AACE,cAAM,QAAN;AACA,qBAAa,QAAb;OAfK,EAiBP;AACE,cAAM,cAAN;AACA,qBAAa,cAAb;OAnBK,EAqBP;AACE,cAAM,YAAN;AACA,qBAAa,YAAb;OAvBK,EAyBP;AACE,cAAM,SAAN;AACA,qBAAa,SAAb;OA3BK,EA6BP;AACE,cAAM,WAAN;AACA,qBAAa,WAAb;OA/BK,CAAT,CAFiB;;AAqCjB,WAAI,IAAI,CAAJ,IAAS,MAAb,EAAoB;AAClB,YAAI,OAAO,OAAO,CAAP,CAAP,CADc;AAElB,YAAG,KAAK,4BAAL,CAAkC,KAAK,IAAL,CAArC,EACE,MAAM,KAAK,WAAL,CAAN,GAA0B,KAAK,MAAL,CAAY,KAAK,IAAL,CAAtC,CADF;OAFF;;;AArCiB,UA4Cd,KAAK,MAAL,CAAY,OAAZ,EAAoB;AACrB,cAAM,OAAN,GAAgB,KAAK,MAAL,CAAY,OAAZ,CADK;OAAvB,MAEK;AACH,YAAG,KAAK,4BAAL,CAAkC,YAAlC,CAAH,EACE,MAAM,UAAN,GAAmB,KAAK,MAAL,CAAY,UAAZ,CADrB;OAHF;;AAOA,UAAG,KAAK,4BAAL,CAAkC,QAAlC,CAAH,EAA+C;AAC7C,YAAI,SAAS,KAAK,iBAAL,CAAuB,KAAK,MAAL,CAAY,MAAZ,CAAhC,CADyC;AAE7C,cAAM,aAAN,GAAsB,OAAO,CAAP,CAAtB,CAF6C;AAG7C,cAAM,WAAN,GAAoB,OAAO,CAAP,CAApB,CAH6C;OAA/C;;AAMA,aAAO,KAAP,CAzDiB;;;;;;;AA8DnB,WAhHI,gCAgHJ,CAAY,IAAZ,EAAkB;;;0BAhHd,kCAgHc;;AAChB,QAAG,CAAC,IAAD,EAAO,OAAV;AACA,SAAK,UAAL,GAAkB,IAAlB,CAFgB;;AAIhB,SAAK,mBAAL,GAA2B,SAAS,aAAT,CAAuB,KAAvB,CAA3B,CAJgB;AAKhB,SAAK,mBAAL,CAAyB,SAAzB,CAAmC,GAAnC,CAAuC,uBAAvC,EALgB;AAMhB,SAAK,UAAL,CAAgB,WAAhB,CAA4B,KAAK,mBAAL,CAA5B,CANgB;;AAQhB,SAAK,aAAL,GAAqB,SAAS,aAAT,CAAuB,KAAvB,CAArB,CARgB;AAShB,SAAK,aAAL,CAAmB,YAAnB,CAAgC,OAAhC,EAAyC,IAAzC,EATgB;AAUhB,SAAK,aAAL,CAAmB,YAAnB,CAAgC,cAAhC,EAAgD,EAAhD,EAVgB;AAWhB,SAAK,mBAAL,CAAyB,WAAzB,CAAqC,KAAK,aAAL,CAArC,CAXgB;;AAahB,SAAK,UAAL,GAAkB,SAAS,aAAT,CAAuB,IAAvB,CAAlB,CAbgB;AAchB,SAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,aAA9B,EAdgB;AAehB,SAAK,aAAL,CAAmB,WAAnB,CAA+B,KAAK,UAAL,CAA/B;;;AAfgB,QAkBhB,CAAK,iBAAL,GAAyB;AACvB,mBAAc,KAAK,oBAAL,CAA0B,IAA1B,CAA+B,IAA/B,CAAd;AACA,mBAAc,KAAK,oBAAL,CAA0B,IAA1B,CAA+B,IAA/B,CAAd;AACA,kBAAa,KAAK,mBAAL,CAAyB,IAAzB,CAA8B,IAA9B,CAAb;KAHF,CAlBgB;;AAwBhB,SAAK,MAAL,GAAc,KAAK,UAAL,CAAgB,UAAhB,CAxBE;;AA0BhB,QAAG,KAAK,MAAL,CAAY,KAAZ,KAAsB,IAAtB,IAA8B,CAAC,SAAS,cAAT,mBAAwC,KAAK,MAAL,CAAY,KAAZ,CAAzC,EAA8D;AAC7F,WAAK,WAAL,CAAkB,KAAK,mBAAL,EAA0B,KAAK,QAAL,GAAgB,KAAK,MAAL,CAAY,KAAZ,GAAoB,MAApC,CAA5C,CAD6F;KAA/F;;AAIA,SAAK,mBAAL,CAAyB,SAAzB,CAAmC,MAAnC,CAA0C,QAA1C,EA9BgB;AA+BhB,QAAG,KAAK,MAAL,CAAY,MAAZ,EAAmB;AACpB,WAAK,mBAAL,CAAyB,SAAzB,CAAmC,GAAnC,CAAuC,QAAvC,EADoB;KAAtB;;AAIA,SAAK,UAAL,CAAgB,KAAhB,CAAsB,MAAtB,GAAkC,KAAK,YAAL,OAAlC,CAnCgB;AAoChB,SAAK,UAAL,CAAgB,KAAhB,CAAsB,KAAtB,GAAkC,KAAK,MAAL,CAAY,KAAZ,OAAlC,CApCgB;;AAsChB,SAAK,mBAAL,CAAyB,KAAzB,CAA+B,MAA/B,GAA2C,KAAK,mBAAL,OAA3C,CAtCgB;AAuChB,SAAK,mBAAL,CAAyB,KAAzB,CAA+B,KAA/B,GAA2C,KAAK,MAAL,CAAY,KAAZ,OAA3C,CAvCgB;AAwChB,SAAK,mBAAL,CAAyB,KAAzB,CAA+B,YAA/B,GAAiD,KAAK,MAAL,CAAY,YAAZ,OAAjD,CAxCgB;AAyChB,SAAK,mBAAL,CAAyB,KAAzB,CAA+B,WAA/B,GAAgD,KAAK,UAAL,OAAhD;;;;AAzCgB,QA6ChB,CAAK,kBAAL,GA7CgB;;AA+ChB,SAAK,cAAL,CAAoB,YAAM;AACxB,YAAK,WAAL,CAAkB,MAAK,oBAAL,EAA2B,MAAK,MAAL,EAAa,MAAK,aAAL,CAA1D,CADwB;KAAN,CAApB,CA/CgB;;AAmDhB,QAAI,KAAK,iBAAL,CAAuB,cAAvB,CAAuC,KAAK,YAAL,CAAkB,KAAlB,CAA3C,EAAuE;AACrE,WAAK,iBAAL,CAAwB,KAAK,YAAL,CAAkB,KAAlB,CAAxB,GADqE;KAAvE;;;AAnDgB,QAwDhB,CAAK,mBAAL,GAxDgB;AAyDhB,SAAK,aAAL,GAzDgB;;AA2DhB,SAAK,UAAL,GA3DgB;;AA6DhB,SAAK,WAAL,GA7DgB;;AA+DhB,QAAI,CAAC,KAAK,UAAL,EAAiB,KAAK,kBAAL,GAAtB;;AAEA,QAAI,CAAC,KAAK,UAAL,EAAiB,KAAK,gBAAL,GAAtB;;AAEA,QAAI,KAAK,UAAL,EAAiB,KAAK,SAAL,GAArB;GAnEF;;eAhHI;;mCAsLW,IAAG;AAChB,UAAI,SAAS,IAAT,CADY;;AAGhB,eAAS,0BAAT,GAAqC;AACnC,YAAI,QAAQ,KAAK,UAAL,KAAoB,eAAe,IAAf,EAAsB;AACpD,cAAI,UAAU,EAAV;cACF,UAAU,IAAV;cACA,mBAAmB,EAAnB,CAHkD;AAIpD,cAAG,KAAK,MAAL,KAAgB,GAAhB,EAAqB;AACtB,gBAAI,WAAW,KAAK,KAAL,CAAW,KAAK,YAAL,CAAtB,CADkB;AAEtB,gBAAG,SAAS,MAAT,KAAoB,IAApB,IAA4B,SAAS,OAAT,CAAiB,MAAjB,EAAwB;;AAErD,wBAAU,SAAS,OAAT,CAF2C;AAGrD,kBAAI,WAAW,QAAQ,CAAR,EAAW,QAAX,CAHsC;AAIrD,iCAAmB,QAAQ,CAAR,EAAW,kBAAX,CAA8B,QAAQ,CAAR,EAAW,kBAAX,CAA8B,MAA9B,GAAuC,CAAvC,CAA9B,CAAwE,UAAxE;;;AAJkC,kBAOlD,CAAC,OAAO,MAAP,CAAc,OAAd,EAAsB;AACxB,qBAAI,IAAI,CAAJ,IAAS,OAAb,EAAqB;AACnB,sBAAI,SAAS,QAAQ,CAAR,CAAT,CADe;AAEnB,sBAAG,OAAO,kBAAP,EAA0B;AAC3B,wBAAI,UAAU,OAAO,kBAAP,CAA0B,OAAO,kBAAP,CAA0B,MAA1B,GAAmC,CAAnC,CAApC,CADuB;AAE3B,wBAAG,OAAH,EAAW;AACT,0BAAG,QAAQ,UAAR,KAAuB,IAAvB,EAA4B;AAC7B,2CAAmB,IAAnB,CAD6B;AAE7B,mCAAW,OAAO,QAAP,CAFkB;uBAA/B;qBADF;mBAFF;iBAFF;eADF;;AAeA,kBAAG,QAAH,EAAY;AACV,oBAAG,SAAS,QAAT,EAAkB;AACnB,4BAAa,SAAS,QAAT,CAAkB,GAAlB,SAAyB,SAAS,QAAT,CAAkB,GAAlB,CADnB;iBAArB;eADF;aAtBF;WAFF;;AAJoD,cAoCjD,OAAO,gBAAP,EAAyB,OAAO,gBAAP,CAAwB,OAAxB,EAAiC,gBAAjC,EAA5B;AACA,iBAAO,MAAP,CAAc,OAAd,GAAwB,OAAxB,CArCoD;AAsCpD,aAAG,OAAO,MAAP,CAAc,OAAd,CAAH,CAtCoD;SAAtD;OADF;;AA2CA,UAAG,KAAK,4BAAL,CAAkC,YAAlC,CAAH,EAAmD;AACjD,YAAI,OAAO,EAAC,6BAA2B,OAAO,MAAP,CAAc,UAAd,EAAnC,CAD6C;AAEjD,YAAG,OAAO,MAAP,CAAc,YAAd,EAA4B,KAAK,GAAL,GAAW,OAAO,MAAP,CAAc,YAAd,CAA1C;AACA,YAAG,KAAK,MAAL,CAAY,OAAZ,EAAqB,KAAK,UAAL,kBAA+B,KAAK,MAAL,CAAY,OAAZ,CAAvD;AACA,aAAK,WAAL,CAAkB,0BAAlB,EAA8C,KAAK,UAAL,EAAiB,IAA/D,EAJiD;OAAnD,MAKK;;AAEH,YAAG,OAAO,gBAAP,EAAyB,OAAO,gBAAP,CAAwB,IAAxB,EAA5B;AACA,eAAO,MAAP,CAAc,OAAd,GAAwB,EAAxB,CAHG;AAIH,eAAO,MAAP,CAAc,OAAd,GAAwB,EAAxB,CAJG;AAKH,WAAG,OAAO,MAAP,CAAc,OAAd,CAAH,CALG;OALL;;;;iCAcU;;;AACV,WAAK,MAAL,GAAc,SAAS,aAAT,CAAuB,GAAvB,CAAd,CADU;AAEV,WAAK,MAAL,CAAY,WAAZ,CAAwB,SAAS,cAAT,CAAwB,SAAxB,CAAxB,EAFU;AAGV,WAAK,MAAL,CAAY,SAAZ,CAAsB,GAAtB,CAA0B,eAA1B,EAHU;AAIV,WAAK,MAAL,CAAY,SAAZ,CAAsB,GAAtB,CAA0B,UAA1B,EAJU;AAKV,WAAK,MAAL,CAAY,MAAZ,GAAqB,QAArB,CALU;AAMV,WAAK,MAAL,CAAY,IAAZ,GAAmB,EAAnB,CANU;AAOV,WAAK,MAAL,CAAY,gBAAZ,CAA6B,OAA7B,EAAsC,UAAC,CAAD,EAAM;AAC1C,UAAE,cAAF;AAD0C,cAE1C,CAAK,cAAL;;AAF0C,OAAN,CAAtC,CAPU;AAYV,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,KAAK,MAAL,CAArC,CAZU;;;;mCAeE;AACZ,UAAG,KAAK,MAAL,EAAY;AACb,YAAI,QAAQ,KAAK,YAAL,CAAkB,KAAK,aAAL,CAAlB,CAAsC,KAAK,aAAL,CAA9C;YACA,MAAM,EAAN,CAFS;AAGb,YAAG,KAAH,EAAS;AACP,cAAG,MAAM,GAAN,EAAU;;AAEV,gBAAG,IAAC,CAAK,2BAAL,IAAoC,KAAK,aAAL,CAAmB,MAAM,GAAN,CAAvD,IAAuE,KAAK,qBAAL,IAA8B,KAAK,gBAAL,CAAsB,MAAM,GAAN,CAApD,EAAgE;AACzI,oBAAM,MAAM,GAAN,CADmI;aAA3I;WAFH;SADF;AAQA,aAAK,MAAL,CAAY,IAAZ,GAAmB,GAAnB,CAXa;OAAf;;;;kCAeY,KAAI;AAChB,aAAQ,IAAI,KAAJ,CAAU,eAAV,KAA8B,IAAI,KAAJ,CAAU,gBAAV,CAA9B,CADQ;;;;qCAID,KAAI;AACnB,WAAK,IAAI,IAAI,CAAC,iDAAD,EAAoD,yDAApD,CAAJ,EAAoH,IAAI,IAAJ,EAAU,IAAI,CAAJ,EAAO,IAAI,EAAE,MAAF,KAAa,IAAI,IAAI,KAAJ,CAAU,EAAE,CAAF,CAAV,CAAJ,EAAqB,SAAS,CAAT,CAAtC,EAAmD,GAAjM,IADmB;AAEnB,UAAI,KAAM,SAAS,CAAT,GAAa,EAAE,CAAF,CAAb,GAAoB,KAAK,CAAL,CAFX;AAGnB,aAAQ,KAAK,iBAAL,CAAuB,OAAvB,CAA+B,EAA/B,IAAqC,CAAC,CAAD,CAH1B;;;;oCAMN;AACb,UAAI,KAAK,cAAL,CADS;AAEb,UAAI,CAAC,SAAS,cAAT,CAAwB,EAAxB,CAAD,EAA+B;AACjC,YAAI,SAAS,SAAS,aAAT,CAAuB,QAAvB,CAAT,CAD6B;AAEjC,eAAO,YAAP,CAAoB,KAApB,EAA2B,KAAK,SAAL,GAAiB,uBAAjB,CAA3B,CAFiC;AAGjC,eAAO,YAAP,CAAoB,MAApB,EAA4B,iBAA5B,EAHiC;AAIjC,eAAO,YAAP,CAAoB,SAApB,EAA+B,OAA/B,EAJiC;AAKjC,eAAO,YAAP,CAAoB,IAApB,EAA0B,EAA1B,EALiC;AAMjC,SAAC,SAAS,IAAT,IAAiB,SAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAjB,CAAD,CAA4D,WAA5D,CAAwE,MAAxE,EANiC;OAAnC;AAQA,WAAK,qBAAL,GAA6B,IAA7B,CAVa;;;;0CAaM;AACnB,UAAI,KAAK,oBAAL,CADe;AAEnB,UAAI,CAAC,SAAS,cAAT,CAAwB,EAAxB,CAAD,EAA8B;AAChC,YAAI,SAAS,SAAS,aAAT,CAAuB,QAAvB,CAAT,CAD4B;AAEhC,eAAO,YAAP,CAAoB,KAApB,EAA2B,mCAA3B,EAFgC;AAGhC,eAAO,YAAP,CAAoB,MAApB,EAA4B,iBAA5B,EAHgC;AAIhC,eAAO,YAAP,CAAoB,SAApB,EAA+B,OAA/B,EAJgC;AAKhC,eAAO,YAAP,CAAoB,IAApB,EAA0B,EAA1B,EALgC;AAMhC,SAAC,SAAS,IAAT,IAAiB,SAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAjB,CAAD,CAA4D,WAA5D,CAAwE,MAAxE,EANgC;OAAlC;AAQA,WAAK,2BAAL,GAAmC,IAAnC,CAVmB;;;;;;;kCAcR;;;AACX,WAAK,aAAL,GAAqB,SAAS,aAAT,CAAuB,KAAvB,CAArB,CADW;AAEX,WAAK,aAAL,CAAmB,SAAnB,CAA6B,GAA7B,CAAiC,eAAjC,EAFW;AAGX,WAAK,cAAL,GAAsB,SAAS,aAAT,CAAuB,KAAvB,CAAtB,CAHW;AAIX,WAAK,cAAL,CAAoB,SAApB,CAA8B,GAA9B,CAAkC,wBAAlC,EAJW;;AAMX,UAAI,eAAe,SAAS,aAAT,CAAuB,KAAvB,CAAf,CANO;AAOX,mBAAa,SAAb,CAAuB,GAAvB,CAA2B,oBAA3B,EAPW;AAQX,mBAAa,gBAAb,CAA8B,OAA9B,EAAuC,YAAK;AAC1C,eAAK,WAAL,GAD0C;OAAL,CAAvC,CARW;;AAYX,WAAK,aAAL,CAAmB,WAAnB,CAA+B,KAAK,cAAL,CAA/B,CAZW;AAaX,WAAK,aAAL,CAAmB,WAAnB,CAA+B,YAA/B,EAbW;AAcX,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,KAAK,aAAL,CAArC,CAdW;;;;gCAiBD,SAAS,yBAAwB;AAC3C,UAAG,QAAQ,MAAR,EAAe;AAChB,aAAK,uBAAL,GAA+B,uBAA/B,CADgB;AAEhB,aAAK,cAAL,CAAoB,SAApB,GAAgC,OAAhC,CAFgB;AAGhB,aAAK,aAAL,CAAmB,SAAnB,CAA6B,GAA7B,CAAiC,uBAAjC,EAHgB;AAIhB,YAAI,KAAK,cAAL,EAAqB;AACvB,uBAAa,KAAK,cAAL,CAAb;AADuB,SAAzB;OAJF;;;;yCAUmB,OAAM;;;AACzB,UAAG,KAAK,cAAL,EAAqB,aAAa,KAAK,cAAL,CAAb,CAAxB;AADyB,UAEzB,CAAK,cAAL,GAAsB,WAAW,YAAI;AACnC,eAAK,WAAL,GADmC;OAAJ,EAE9B,KAFmB,CAAtB,CAFyB;;;;kCAOd;AACX,UAAG,KAAK,cAAL,EAAqB,aAAa,KAAK,cAAL,CAAb,CAAxB;AADW,UAEX,CAAK,aAAL,CAAmB,SAAnB,CAA6B,MAA7B,CAAoC,uBAApC,EAFW;;;;;;yCAMO;AAClB,UAAI,qBAAqB,SAAS,cAAT,CAAwB,cAAxB,CAArB;UACA,cAAc,SAAS,aAAT,CAAuB,GAAvB,CAAd,CAFc;AAGlB,kBAAY,WAAZ,CAAwB,kBAAxB,EAHkB;AAIlB,kBAAY,SAAZ,CAAsB,GAAtB,CAA0B,cAA1B,EAJkB;AAKlB,kBAAY,MAAZ,GAAqB,QAArB,CALkB;AAMlB,kBAAY,IAAZ,GAAmB,KAAK,cAAL,CAND;AAOlB,WAAK,UAAL,CAAgB,WAAhB,CAA4B,WAA5B,EAPkB;;AASlB,UAAI,OAAO,SAAS,aAAT,CAAuB,GAAvB,CAAP,CATc;AAUlB,WAAK,SAAL,CAAe,GAAf,CAAmB,YAAnB,EAVkB;AAWlB,WAAK,MAAL,GAAc,QAAd,CAXkB;AAYlB,WAAK,IAAL,GAAY,KAAK,OAAL,CAZM;;AAclB,UAAI,UAAU,SAAS,aAAT,CAAuB,KAAvB,CAAV,CAdc;AAelB,cAAQ,SAAR,CAAkB,GAAlB,CAAsB,gBAAtB,EAfkB;AAgBlB,cAAQ,WAAR,CAAoB,IAApB,EAhBkB;AAiBlB,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,OAArC,EAjBkB;;AAmBlB,UAAI,WAAW,SAAS,aAAT,CAAuB,GAAvB,CAAX,CAnBc;AAoBlB,eAAS,SAAT,CAAmB,GAAnB,CAAuB,gBAAvB,EApBkB;AAqBlB,eAAS,MAAT,GAAkB,QAAlB,CArBkB;AAsBlB,eAAS,IAAT,GAAgB,KAAK,WAAL,CAtBE;AAuBlB,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,QAArC,EAvBkB;;;;;;;2CA2BE;;AAEpB,UAAI,0BAA0B,SAAS,aAAT,CAAuB,KAAvB,CAA1B,CAFgB;AAGhB,8BAAwB,SAAxB,CAAkC,GAAlC,CAAsC,mBAAtC,EAA2D,aAA3D,EAHgB;;AAKpB,UAAI,mBAAmB,SAAS,aAAT,CAAuB,KAAvB,CAAnB;UACA,uBAAuB,SAAS,cAAT,CAAwB,mBAAxB,CAAvB,CANgB;AAOhB,uBAAiB,WAAjB,CAA6B,oBAA7B,EAPgB;AAQhB,8BAAwB,WAAxB,CAAoC,gBAApC,EARgB;;AAUpB,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,uBAArC,EAVoB;;;;2CAaA;AACpB,UAAI,aAAa,SAAS,aAAT,CAAuB,KAAvB,CAAb,CADgB;AAEpB,iBAAW,SAAX,CAAqB,GAArB,CAAyB,aAAzB,EAAwC,aAAxC,EAFoB;;AAIpB,WAAI,IAAI,IAAI,CAAJ,EAAO,IAAI,CAAJ,EAAO,GAAtB,EAA0B;AACxB,YAAI,WAAW,SAAS,aAAT,CAAuB,KAAvB,CAAX,CADoB;AAExB,iBAAS,YAAT,CAAsB,KAAtB,EAA6B,KAAK,OAAL,GAAe,+CAAf,CAA7B;;;AAFwB,gBAKxB,CAAS,YAAT,CAAsB,QAAtB,EAAgC,IAAhC,EALwB;AAMxB,mBAAW,WAAX,CAAuB,QAAvB,EANwB;OAA1B;;AASA,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,UAArC,EAboB;;;;0CAgBD;;;yCAGD;AAClB,WAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CADkB;AAElB,WAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAFkB;AAGlB,WAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAHkB;AAIlB,WAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAJkB;;;;+CAQM;;AAExB,UAAG,KAAK,WAAL,GAAmB,CAAnB,EAAqB;AACtB,aAAK,UAAL,CAAgB,SAAhB,CAA0B,MAA1B,CAAiC,KAAK,kBAAL,CAAjC,CADsB;AAEtB,aAAK,UAAL,CAAgB,SAAhB,CAA0B,MAA1B,CAAiC,KAAK,kBAAL,CAAjC,CAFsB;AAGtB,YAAG,KAAK,aAAL,KAAuB,CAAvB,EAAyB;AAC1B,eAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAD0B;SAA5B,MAEM,IAAG,KAAK,aAAL,KAAuB,KAAK,WAAL,GAAmB,CAAnB,EAAqB;AACnD,eAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CADmD;SAA/C;OALR,MAQK;AACH,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CADG;AAEH,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAFG;OARL;;;AAFwB,UAgBrB,KAAK,YAAL,CAAkB,MAAlB,EAAyB;AAC1B,YAAG,KAAK,YAAL,CAAkB,KAAK,aAAL,CAAlB,CAAsC,MAAtC,GAA+C,CAA/C,EAAiD;AAClD,eAAK,UAAL,CAAgB,SAAhB,CAA0B,MAA1B,CAAiC,KAAK,kBAAL,CAAjC,CADkD;AAElD,eAAK,UAAL,CAAgB,SAAhB,CAA0B,MAA1B,CAAiC,KAAK,kBAAL,CAAjC,CAFkD;AAGlD,cAAG,KAAK,aAAL,KAAuB,CAAvB,EAAyB;AAC1B,iBAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAD0B;WAA5B,MAEM,IAAG,KAAK,aAAL,KAAuB,KAAK,YAAL,CAAkB,KAAK,aAAL,CAAlB,CAAsC,MAAtC,GAA+C,CAA/C,EAAiD;AAC/E,iBAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAD+E;WAA3E;SALR,MAQK;AACH,eAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CADG;AAEH,eAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAFG;SARL;OADF,MAaK;AACH,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CADG;AAEH,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,KAAK,kBAAL,CAA9B,CAFG;OAbL;;;;iCAmBU;AACV,UAAG,KAAK,aAAL,GAAqB,CAArB,EAAuB;AACxB,aAAK,gBAAL,CAAsB,KAAK,aAAL,GAAqB,CAArB,EAAwB,IAA9C,EADwB;OAA1B;;;;iCAKU;AACV,UAAG,KAAK,WAAL,GAAmB,CAAnB,GAAuB,KAAK,aAAL,EAAoB;AAC5C,aAAK,gBAAL,CAAsB,KAAK,aAAL,GAAqB,CAArB,EAAwB,IAA9C,EAD4C;OAA9C;;;;iCAKU;AACV,UAAG,KAAK,aAAL,GAAqB,CAArB,EAAuB;AACxB,aAAK,gBAAL,CAAsB,KAAK,aAAL,GAAqB,CAArB,EAAwB,KAA9C,EADwB;OAA1B;;;;iCAKU;AACV,UAAG,KAAK,YAAL,CAAkB,KAAK,aAAL,CAAlB,CAAsC,MAAtC,GAA+C,CAA/C,GAAmD,KAAK,aAAL,EAAoB;AACxE,aAAK,gBAAL,CAAsB,KAAK,aAAL,GAAqB,CAArB,EAAwB,KAA9C,EADwE;OAA1E;;;;qCAKe,YAAY,cAAa;;;AACxC,WAAK,cAAL,GADwC;AAExC,WAAK,aAAL,GAAqB,WAAW,YAAI;AAClC,eAAK,aAAL,GADkC;OAAJ,EAE7B,KAAK,kBAAL,CAFH,CAFwC;AAKxC,UAAG,YAAH,EACE,KAAK,UAAL,CAAgB,UAAhB,EADF,KAGE,KAAK,UAAL,CAAgB,UAAhB,EAHF;;;;+BAMS,YAAW;AACpB,UAAG,KAAK,aAAL,KAAuB,UAAvB,EAAmC,OAAtC;AACA,WAAK,aAAL,GAAqB,CAArB,CAFoB;AAGpB,WAAK,aAAL,GAAqB,UAArB,CAHoB;AAIpB,WAAK,UAAL,CAAgB,KAAhB,CAAsB,UAAtB,SAAuC,KAAK,aAAL,GAAqB,GAArB,MAAvC,CAJoB;AAKpB,WAAK,wBAAL,GALoB;AAMpB,WAAK,gBAAL,GANoB;AAOpB,WAAK,YAAL,GAPoB;;;;+BAUX,YAAW;AACpB,UAAG,KAAK,aAAL,KAAuB,UAAvB,EAAmC,OAAtC;AACA,WAAK,aAAL,GAAqB,UAArB,CAFoB;AAGpB,UAAI,aAAa,KAAK,UAAL,CAAgB,sBAAhB,CAAuC,iBAAiB,KAAK,aAAL,CAArE,CAHgB;AAIpB,UAAG,WAAW,MAAX,EAAkB;AACnB,qBAAa,WAAW,CAAX,CAAb,CADmB;AAEnB,mBAAW,KAAX,CAAiB,SAAjB,SAAiC,KAAK,aAAL,IAAsB,KAAK,mBAAL,GAA2B,KAAK,UAAL,GAAkB,CAAlB,CAAjD,OAAjC,CAFmB;AAGnB,aAAK,wBAAL,GAHmB;AAInB,aAAK,YAAL,GAJmB;OAArB;;;;oCAQa;;;AACb,UAAG,KAAK,WAAL,GAAmB,CAAnB,EAAsB;AACvB,aAAK,cAAL,GAAsB,YAAY,YAAK;AACrC,cAAI,aAAa,CAAb,CADiC;AAErC,cAAI,OAAK,WAAL,GAAmB,CAAnB,GAAuB,OAAK,aAAL,EAAoB,aAAa,OAAK,aAAL,GAAqB,CAArB,CAA5D;AACA,iBAAK,UAAL,CAAgB,UAAhB,EAHqC;SAAL,EAI/B,KAAK,WAAL,CAJH,CADuB;OAAzB;;;;qCASc;AACd,UAAG,KAAK,aAAL,EAAoB,aAAa,KAAK,aAAL,CAAb,CAAvB;AACA,UAAG,KAAK,cAAL,EAAqB,cAAc,KAAK,cAAL,CAAd,CAAxB;;;;yCAGkB;;;AAClB,WAAK,aAAL,GAAqB,CAArB,CADkB;AAElB,WAAK,aAAL,GAAqB,CAArB,CAFkB;AAGlB,WAAK,WAAL,GAAmB,CAAnB,CAHkB;AAIlB,UAAI,eAAe,gBAAf;;;AAJc,UAOlB,CAAK,UAAL,GAAkB,SAAS,aAAT,CAAuB,KAAvB,CAAlB,CAPkB;AAQlB,UAAI,kBAAkB,CAAC,YAAD,EAAe,eAAe,aAAf,EAA8B,eAAe,OAAf,EAAwB,KAAK,kBAAL,CAAvF,CARc;AASlB,WAAI,IAAI,CAAJ,IAAS,eAAb,EAA6B;AAC3B,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,gBAAgB,CAAhB,CAA9B,EAD2B;OAA7B;AAGA,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,KAAK,UAAL,CAArC;;;AAZkB,UAelB,CAAK,UAAL,GAAkB,SAAS,aAAT,CAAuB,KAAvB,CAAlB,CAfkB;AAgBlB,UAAI,kBAAkB,CAAC,YAAD,EAAe,eAAe,aAAf,EAA8B,eAAe,QAAf,EAAyB,KAAK,kBAAL,CAAxF,CAhBc;AAiBlB,WAAI,IAAI,CAAJ,IAAS,eAAb,EAA6B;AAC3B,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,gBAAgB,CAAhB,CAA9B,EAD2B;OAA7B;AAGA,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,KAAK,UAAL,CAArC;;;AApBkB,UAuBlB,CAAK,UAAL,GAAkB,SAAS,aAAT,CAAuB,KAAvB,CAAlB,CAvBkB;AAwBlB,UAAI,kBAAkB,CAAC,YAAD,EAAe,eAAe,WAAf,EAA4B,eAAe,MAAf,EAAuB,KAAK,kBAAL,CAApF,CAxBc;AAyBlB,WAAI,IAAI,CAAJ,IAAS,eAAb,EAA8B;AAC5B,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,gBAAgB,CAAhB,CAA9B,EAD4B;OAA9B;AAGA,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,KAAK,UAAL,CAArC;;;AA5BkB,UA+BlB,CAAK,UAAL,GAAkB,SAAS,aAAT,CAAuB,KAAvB,CAAlB,CA/BkB;AAgClB,UAAI,kBAAkB,CAAC,YAAD,EAAe,eAAe,WAAf,EAA4B,eAAe,SAAf,EAA0B,KAAK,kBAAL,CAAvF,CAhCc;AAiClB,WAAI,IAAI,CAAJ,IAAS,eAAb,EAA6B;AAC3B,aAAK,UAAL,CAAgB,SAAhB,CAA0B,GAA1B,CAA8B,gBAAgB,CAAhB,CAA9B,EAD2B;OAA7B;AAGA,WAAK,mBAAL,CAAyB,WAAzB,CAAqC,KAAK,UAAL,CAArC;;;AApCkB,eAuCT,oBAAT,GAA+B;AAC7B,YAAI,KAAK,SAAS,aAAT,CAAuB,aAAvB,CAAL;YACF,cAAc;AACZ,wBAAa,eAAb;AACA,yBAAc,gBAAd;AACA,2BAAgB,eAAhB;AACA,8BAAmB,qBAAnB;SAJF,CAF2B;;AAS7B,aAAI,IAAI,KAAJ,IAAa,WAAjB,EAA6B;AAC3B,cAAI,GAAG,KAAH,CAAS,KAAT,MAAoB,SAApB,EAAgC,OAAO,YAAY,KAAZ,CAAP,CAApC;SADF;OATF;;AAcA,UAAI,kBAAkB,sBAAlB,CArDc;AAsDlB,yBAAmB,KAAK,UAAL,CAAgB,gBAAhB,CAAiC,eAAjC,EAAkD,UAAC,CAAD,EAAM;AACzE,YAAI,OAAK,UAAL,KAAoB,EAAE,MAAF,EAAU,OAAlC;AACA,YAAI,aAAa,OAAK,UAAL,CAAgB,sBAAhB,CAAuC,aAAvC,CAAb;;AAFqE,aAIrE,IAAI,IAAI,CAAJ,EAAO,WAAW,MAAX,GAAoB,CAApB,EAAuB,GAAtC,EAA0C;AACxC,qBAAW,CAAX,EAAc,KAAd,CAAoB,SAApB,GAAgC,CAAhC,CADwC;SAA1C;OAJmE,CAArE;;;AAtDkB,UAgElB,CAAK,UAAL,CAAgB,gBAAhB,CAAiC,OAAjC,EAA0C,YAAK;AAC7C,eAAK,UAAL,GAD6C;OAAL,CAA1C,CAhEkB;;AAoElB,WAAK,UAAL,CAAgB,gBAAhB,CAAiC,OAAjC,EAA0C,YAAK;AAC7C,eAAK,UAAL,GAD6C;OAAL,CAA1C,CApEkB;;AAwElB,WAAK,UAAL,CAAgB,gBAAhB,CAAiC,OAAjC,EAA0C,YAAK;AAC7C,eAAK,UAAL,GAD6C;OAAL,CAA1C,CAxEkB;;AA4ElB,WAAK,UAAL,CAAgB,gBAAhB,CAAiC,OAAjC,EAA0C,YAAK;AAC7C,eAAK,UAAL,GAD6C;OAAL,CAA1C;;;AA5EkB,UAiFd,QAAQ,IAAR;UACA,QAAQ,IAAR,CAlFc;;AAoFlB,eAAS,gBAAT,CAA0B,GAA1B,EAA+B;AAC7B,gBAAQ,IAAI,OAAJ,CAAY,CAAZ,EAAe,OAAf,CADqB;AAE7B,gBAAQ,IAAI,OAAJ,CAAY,CAAZ,EAAe,OAAf,CAFqB;OAA/B;;AAKA,eAAS,eAAT,CAAyB,GAAzB,EAA8B;AAC5B,YAAK,CAAE,KAAF,IAAW,CAAE,KAAF,EAAU,OAA1B;;AAEA,YAAI,MAAM,IAAI,OAAJ,CAAY,CAAZ,EAAe,OAAf;YACN,MAAM,IAAI,OAAJ,CAAY,CAAZ,EAAe,OAAf;YACN,QAAQ,QAAQ,GAAR;YACR,QAAQ,QAAQ,GAAR,CANgB;;AAQ5B,YAAK,KAAK,GAAL,CAAU,KAAV,IAAoB,KAAK,GAAL,CAAU,KAAV,CAApB,EAAwC;AAC3C,cAAK,QAAQ,CAAR,EACH,KAAK,UAAL;AADF,eAGE,KAAK,UAAL,GAHF;AAD2C,SAA7C,MAKO;AACL,gBAAK,QAAQ,CAAR,EACH,KAAK,UAAL;AADF,iBAGE,KAAK,UAAL,GAHF;AADK,WALP;;AAYA,gBAAQ,IAAR,CApB4B;AAqB5B,gBAAQ,IAAR,CArB4B;OAA9B;;AAwBA,WAAK,mBAAL,CAAyB,gBAAzB,CAA0C,YAA1C,EAAwD,UAAC,CAAD,EAAM;AAC5D,YAAG,OAAK,MAAL,CAAY,KAAZ,KAAsB,UAAtB,EAAkC,EAAE,cAAF,GAArC;AAD4D,wBAE5D,CAAiB,IAAjB,SAA4B,CAA5B,EAF4D;OAAN,EAGrD,KAHH,EAjHkB;AAqHlB,WAAK,mBAAL,CAAyB,gBAAzB,CAA0C,WAA1C,EAAuD,UAAC,CAAD,EAAM;AAC3D,YAAG,OAAK,MAAL,CAAY,KAAZ,KAAsB,UAAtB,EAAkC,EAAE,cAAF,GAArC;AACA,wBAAgB,IAAhB,SAA2B,CAA3B,EAF2D;OAAN,EAGpD,KAHH,EArHkB;;;;iCA2HR;AACV,UAAG,KAAK,cAAL,EAAqB,cAAc,KAAK,cAAL,CAAd,CAAxB;AACA,UAAG,KAAK,aAAL,EAAoB,aAAa,KAAK,aAAL,CAAb,CAAvB;AACA,WAAK,WAAL,GAAmB,KAAK,YAAL,CAAkB,MAAlB,CAHT;AAIV,WAAK,UAAL,CAAgB,KAAhB,CAAsB,UAAtB,GAAmC,IAAnC,CAJU;AAKV,WAAK,UAAL,CAAgB,KAAhB,CAAsB,KAAtB,GAAiC,KAAK,WAAL,GAAmB,GAAnB,MAAjC,CALU;AAMV,WAAK,aAAL,GAAqB,CAArB,CANU;AAOV,WAAK,aAAL,GAAqB,CAArB,CAPU;AAQV,WAAK,aAAL,GARU;AASV,WAAK,wBAAL,GATU;AAUV,WAAK,YAAL,GAVU;;;;+BAaD,MAAM;AACf,UAAI,SAAS,EAAT,CADW;AAEf,UAAG,CAAC,KAAK,GAAL,EAAU,OAAO,MAAP,CAAd;;AAFe,eAIN,EAAT,CAAY,CAAZ,EAAe;AACb,eAAO,CAAC,IAAI,CAAJ,IAAS,IAAI,CAAJ,GAAQ,EAAjB,GAAsB,GAAtB,CAAD,GAA8B,CAA9B,CADM;OAAf;AAGA,UAAI,cAAc,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAmB,KAAnB,EAAyB,KAAzB,EAA+B,KAA/B,EAAqC,KAArC,EAA2C,KAA3C,EAAiD,KAAjD,EAAuD,KAAvD,EAA6D,KAA7D,EAAmE,KAAnE,CAAd;UACA,YAAY,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAmB,KAAnB,EAAyB,KAAzB,EAA+B,KAA/B,EAAqC,KAArC,CAAZ;UACA,WAAW,KAAK,GAAL,CAAS,KAAT,CAAe,GAAf,CAAX;UACA,IAAI,SAAS,SAAS,CAAT,CAAT,CAAJ;UACA,IAAI,SAAS,SAAS,CAAT,CAAT,CAAJ,CAXW;;AAaf,UAAI,IAAI,IAAI,IAAJ,CAAS,KAAK,GAAL,CAAT,CAAmB,MAAnB,EAAJ,CAbW;AAcf,eAAS,UAAU,CAAV,IAAe,IAAf,GAAsB,YAAY,IAAI,CAAJ,CAAlC,GAA2C,GAA3C,GAAiD,CAAjD,GAAqD,IAArD,GAA4D,SAAS,CAAT,CAA5D,CAdM;;AAgBf,UAAG,CAAC,KAAK,IAAL,EAAW,OAAO,MAAP,CAAf;;AAEA,UAAI,YAAY,KAAK,IAAL,CAAU,KAAV,CAAgB,GAAhB,CAAZ;UACF,IAAI,SAAS,UAAU,CAAV,CAAT,CAAJ;UACA,IAAI,UAAU,CAAV,CAAJ;UACA,IAAI,IAAJ,CArBa;;AAuBf,UAAI,IAAI,EAAJ,EAAQ,IAAI,IAAJ,CAAZ;AACA,UAAI,KAAK,CAAL,EAAQ;AACV,YAAI,EAAJ,CADU;OAAZ,MAEO,IAAI,IAAI,EAAJ,EAAQ;AACjB,YAAI,IAAI,EAAJ,CADa;OAAZ;;AAIP,aAAO,SAAS,GAAT,GAAe,GAAG,CAAH,CAAf,GAAuB,GAAvB,GAA6B,CAA7B,GAAiC,GAAjC,GAAuC,CAAvC,CA9BQ;;;;kCAiCJ;AACX,WAAK,UAAL,CAAgB,SAAhB,GAA4B,EAA5B,CADW;;;;4BAIN;AACL,UAAI,kBAAkB,KAAK,UAAL,CAAgB,sBAAhB,CAAuC,aAAvC,CAAlB,CADC;AAEL,aAAO,gBAAgB,MAAhB,EAAwB;AAC7B,YAAI,KAAK,gBAAgB,CAAhB,CAAL;YACA,SAAS,GAAG,UAAH,CAFgB;AAG7B,eAAO,WAAP,CAAmB,EAAnB,EAH6B;OAA/B;;AAOA,UAAG,CAAC,KAAK,UAAL,EAAiB;AACnB,YAAI,sBAAsB,SAAS,sBAAT,CAAgC,uBAAhC,EAAyD,CAAzD,CAAtB,CADe;AAEnB,YAAI,aAAa,SAAS,sBAAT,CAAgC,aAAhC,EAA+C,CAA/C,CAAb,CAFe;AAGnB,YAAI,KAAK,SAAS,sBAAT,CAAgC,IAAhC,EAAsC,CAAtC,CAAL,CAHe;AAInB,WAAG,UAAH,CAAc,WAAd,CAA0B,EAA1B,EAJmB;;AAMnB,YAAI,QAAQ,SAAS,aAAT,CAAuB,KAAvB,CAAR,CANe;AAOnB,cAAM,YAAN,CAAmB,OAAnB,EAA4B,IAA5B,EAPmB;AAQnB,4BAAoB,WAApB,CAAgC,KAAhC,EARmB;;AAUnB,YAAI,QAAQ,SAAS,sBAAT,CAAgC,IAAhC,EAAsC,CAAtC,CAAR,CAVe;AAWnB,cAAM,WAAN,CAAkB,UAAlB,EAXmB;;AAanB,YAAI,sBAAsB,SAAS,sBAAT,CAAgC,6BAAhC,EAA+D,CAA/D,CAAtB,CAbe;AAcnB,4BAAoB,SAApB,CAA8B,MAA9B,CAAqC,gBAArC,EAdmB;OAArB;;AAiBA,UAAG,KAAK,UAAL,EAAiB;AAClB,YAAI,sBAAsB,SAAS,sBAAT,CAAgC,6BAAhC,EAA+D,CAA/D,CAAtB,CADc;AAElB,4BAAoB,SAApB,CAA8B,GAA9B,CAAkC,gBAAlC,EAFkB;OAApB;;AAMA,WAAK,WAAL,GAhCK;;;;6BAmCE;;;AAEP,UAAI,WAAW,KAAK,MAAL,CAAY,WAAZ,EAAX,CAFG;AAGP,WAAK,IAAI,IAAJ,IAAY,KAAK,MAAL,EAAa;AAC5B,YAAI,KAAK,MAAL,CAAY,cAAZ,CAA2B,IAA3B,CAAJ,EAAsC,SAAS,IAAT,IAAiB,KAAK,MAAL,CAAY,IAAZ,CAAjB,CAAtC;OADF;;AAIA,WAAK,MAAL,GAAc,KAAK,UAAL,CAAgB,UAAhB,CAPP;;AASP,UAAG,KAAK,UAAL,EAAiB;AAClB,aAAK,cAAL,GADkB;OAApB;;;;;;AATO,UAiBP,CAAK,UAAL,CAAgB,KAAhB,CAAsB,MAAtB,GAAkC,KAAK,YAAL,OAAlC,CAjBO;AAkBP,WAAK,UAAL,CAAgB,KAAhB,CAAsB,KAAtB,GAAkC,KAAK,MAAL,CAAY,KAAZ,OAAlC,CAlBO;AAmBP,WAAK,mBAAL,CAAyB,KAAzB,CAA+B,MAA/B,GAA2C,KAAK,mBAAL,OAA3C,CAnBO;AAoBP,WAAK,mBAAL,CAAyB,KAAzB,CAA+B,KAA/B,GAA2C,KAAK,MAAL,CAAY,KAAZ,OAA3C,CApBO;AAqBP,WAAK,mBAAL,CAAyB,KAAzB,CAA+B,YAA/B,GAAiD,KAAK,MAAL,CAAY,YAAZ,OAAjD,CArBO;AAsBP,WAAK,mBAAL,CAAyB,KAAzB,CAA+B,WAA/B,GAAgD,KAAK,UAAL,OAAhD,CAtBO;;AAwBP,WAAK,mBAAL,CAAyB,SAAzB,CAAmC,MAAnC,CAA0C,QAA1C,EAxBO;AAyBP,UAAI,KAAK,MAAL,CAAY,cAAZ,CAA2B,QAA3B,CAAJ,EAA0C;AACxC,aAAK,mBAAL,CAAyB,SAAzB,CAAmC,GAAnC,CAAuC,QAAvC,EADwC;OAA1C;;AAIA,UAAG,KAAK,YAAL,CAAkB,KAAK,MAAL,EAAa,QAA/B,EAAyC,KAAK,gBAAL,CAA5C,EAAmE;AACjE,aAAK,KAAL,GADiE;;AAGjE,YAAI,KAAK,iBAAL,CAAuB,cAAvB,CAAuC,KAAK,YAAL,CAAkB,KAAlB,CAA3C,EAAuE;AACrE,eAAK,iBAAL,CAAwB,KAAK,YAAL,CAAkB,KAAlB,CAAxB,GADqE;SAAvE;;AAIA,aAAK,cAAL,CAAoB,YAAM;AACxB,iBAAK,WAAL,CAAkB,OAAK,oBAAL,EAA2B,OAAK,MAAL,EAAa,OAAK,aAAL,CAA1D,CADwB;SAAN,CAApB,CAPiE;;AAWjE,YAAG,KAAK,UAAL,EAAiB,KAAK,SAAL,GAApB;OAXF,MAaI;AACF,YAAI,SAAS,KAAK,UAAL,CAAgB,sBAAhB,CAAuC,eAAvC,CAAT,CADF;AAEF,aAAI,IAAI,CAAJ,IAAS,MAAb,EAAoB;AAClB,cAAG,OAAO,cAAP,CAAsB,CAAtB,KAA4B,OAAO,CAAP,EAAU,KAAV,KAAoB,SAApB,EAA8B;AAC3D,mBAAO,CAAP,EAAU,KAAV,CAAgB,KAAhB,GAA2B,KAAK,MAAL,CAAY,KAAZ,GAAoB,KAAK,UAAL,GAAkB,CAAlB,OAA/C,CAD2D;AAE3D,mBAAO,CAAP,EAAU,KAAV,CAAgB,MAAhB,GAA4B,KAAK,mBAAL,GAA2B,KAAK,UAAL,GAAkB,CAAlB,OAAvD,CAF2D;WAA7D;SADF;AAMA,YAAG,CAAC,KAAK,UAAL,EAAiB;AACnB,eAAK,UAAL,CAAgB,CAAhB,EADmB;SAArB;OArBF;;;;iCA4BW,UAAU,UAAwB;UAAd,iEAAW,kBAAG;;AAC7C,aAAO,OAAO,IAAP,CAAY,QAAZ,EAAsB,GAAtB,CAA0B,UAAS,GAAT,EAAa;AAC5C,YAAG,SAAS,OAAT,CAAiB,GAAjB,IAAwB,CAAC,CAAD,EAAI,OAAO,IAAP,CAA/B;;AAD4C,eAGrC,SAAS,GAAT,MAAkB,SAAS,GAAT,CAAlB,CAHqC;OAAb,CAA1B,CAIJ,OAJI,CAII,KAJJ,IAIa,CAAC,CAAD,CALyB;;;;+BAQpC,cAAa;AACpB,UAAI,SAAS,EAAT,CADgB;AAEpB,aAAO,IAAP,CAAY,YAAZ,EAA0B,GAA1B,CAA8B,UAAS,KAAT,EAAe;AAC3C,YAAI,OAAO,aAAa,KAAb,EAAoB,IAApB,KAA8B,WAArC,IAAoD,aAAa,KAAb,EAAoB,IAApB,CAAyB,OAAzB,CAAiC,IAAjC,MAA2C,CAAC,CAAD,EAAG;AACpG,iBAAQ,aAAa,KAAb,EAAoB,IAApB,CAAyB,OAAzB,CAAiC,KAAjC,EAAwC,EAAxC,EAA4C,OAA5C,CAAoD,IAApD,EAA0D,EAA1D,CAAR,IAA0E,aAAa,KAAb,EAAoB,KAApB,CAD0B;SAAtG;OAD4B,CAA9B,CAFoB;AAOpB,aAAO,MAAP,CAPoB;;;;0CAUH;AACnB,UAAI,QAAQ,KAAK,UAAL,IAAmB,eAAe,IAAf,EAAsB;AACnD,YAAG,KAAK,MAAL,IAAe,GAAf,EAAmB;AACpB,cAAI,QAAQ,SAAS,aAAT,CAAuB,OAAvB,CAAR,CADgB;AAEpB,gBAAM,YAAN,CAAmB,MAAnB,EAA0B,UAA1B,EAFoB;AAGpB,gBAAM,YAAN,CAAmB,IAAnB,oBAAwC,KAAK,MAAL,CAAY,MAAZ,CAAmB,KAAnB,CAAxC,CAHoB;AAIpB,gBAAM,WAAN,GAAoB,KAAK,YAAL,CAJA;AAKpB,mBAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyC,WAAzC,CAAqD,KAArD,EALoB;SAAtB,MAOK;;AAEH,kBAAQ,GAAR,CAAY,qBAAZ,EAFG;SAPL;OADF;;;;wCAeiB;AACjB,UAAI,SAAS,EAAT,CADa;AAEjB,WAAK,MAAL,CAAY,GAAZ,CAAgB,UAAS,KAAT,EAAe;AAC7B,YAAI,OAAO,MAAM,IAAN,CAAP,KAAuB,SAAvB,EAAkC,OAAO,MAAM,IAAN,CAAP,GAAqB,EAArB,CAAtC;AACA,eAAO,MAAM,IAAN,CAAP,CAAmB,IAAnB,CAAwB,KAAxB,EAF6B;OAAf,CAAhB,CAFiB;;AAOjB,WAAK,YAAL,GAAoB,EAApB,CAPiB;AAQjB,WAAK,IAAI,SAAJ,IAAiB,MAAtB,EAA8B;AAC5B,aAAK,YAAL,CAAkB,IAAlB,CAAuB,OAAO,SAAP,CAAvB,EAD4B;OAA9B;;;;uCAKgB;AAChB,WAAK,aAAL,GAAqB,SAAS,aAAT,CAAuB,KAAvB,CAArB,CADgB;AAEhB,WAAK,aAAL,CAAmB,SAAnB,CAA6B,GAA7B,CAAiC,gBAAjC,EAFgB;AAGhB,WAAK,UAAL,CAAgB,WAAhB,CAA4B,KAAK,aAAL,CAA5B,CAHgB;;;;uCAMA;AAChB,UAAG,KAAK,aAAL,EAAmB;AACpB,YAAI,OAAO,EAAP,CADgB;AAEpB,YAAG,KAAK,YAAL,CAAkB,MAAlB,EAAyB;AAC1B,cAAG,KAAK,YAAL,CAAkB,MAAlB,GAA2B,CAA3B,EAA6B;AAC9B,mBAAU,KAAK,aAAL,GAAqB,CAArB,YAA6B,KAAK,YAAL,CAAkB,MAAlB,YAAvC,CAD8B;WAAhC,MAEO;AACL,mBAAO,SAAP,CADK;WAFP;SADF;AAOA,aAAK,aAAL,CAAmB,SAAnB,GAA+B,IAA/B,CAToB;OAAtB;;;;6CAasB;AACtB,WAAK,iBAAL,GAAyB,CAAzB,CADsB;;;;kDAIK;AAC3B,UAAI,gBAAgB,EAAhB;UACF,mBAAmB,CACjB,CAAC,eAAD,EAAkB,aAAlB,EAAiC,SAAjC,CADiB,EAEjB,CAAC,QAAD,CAFiB,EAGjB,CAAC,YAAD,EAAe,SAAf,CAHiB,EAIjB,CAAC,cAAD,CAJiB,EAKjB,CAAC,YAAD,CALiB,EAMjB,CAAC,WAAD,CANiB,EAOjB,CAAC,SAAD,CAPiB,EAQjB,CAAC,SAAD,CARiB,EASjB,CAAC,MAAD,CATiB,CAAnB;;;AAFyB,WAevB,IAAI,GAAJ,IAAW,KAAK,aAAL,EAAmB;AAChC,sBAAc,GAAd,IAAqB,KAAK,aAAL,CAAmB,GAAnB,CAArB,CADgC;OAAlC;;AAIA,UAAG,CAAC,KAAK,iBAAL,EAAwB,KAAK,iBAAL,GAAyB,CAAzB,CAA5B;AACA,UAAG,iBAAiB,MAAjB,GAA0B,KAAK,iBAAL,EAAuB;AAClD,aAAI,IAAI,IAAJ,IAAY,gBAAhB,EAAiC;AAC/B,cAAG,KAAK,iBAAL,IAA0B,IAA1B,EAA+B;AAChC,iBAAI,IAAI,CAAJ,IAAS,iBAAiB,IAAjB,CAAb,EAAoC;AAClC,qBAAO,cAAc,iBAAiB,IAAjB,EAAuB,CAAvB,CAAd,CAAP,CADkC;aAApC;WADF;SADF;;AAQA,YAAG,KAAK,iBAAL,KAA2B,CAA3B,EAA8B,KAAK,WAAL,CAAiB,wDAAjB,EAAjC;AACA,aAAK,iBAAL,GAVkD;AAWlD,aAAK,WAAL,CAAkB,KAAK,oBAAL,EAA2B,KAAK,MAAL,EAAa,aAA1D,EAXkD;OAApD,MAYK;;AAEH,aAAK,WAAL,CAAiB,wBAAjB,EAA2C,IAA3C,EAFG;AAGH,aAAK,iBAAL,GAAyB,CAAzB,CAHG;AAIH,aAAK,kBAAL,GAJG;OAZL;;;;2CAoBoB;AACpB,UAAI,SAAS,KAAK,MAAL,CADO;AAEpB,aAAO,WAAP;AAFoB,UAGhB,QAAQ,KAAK,UAAL,IAAmB,eAAe,IAAf,EAAsB;AACnD,YAAG,KAAK,MAAL,IAAe,GAAf,EAAmB;AACpB,iBAAO,MAAP,GAAgB,KAAK,KAAL,CAAW,KAAK,YAAL,CAA3B,CADoB;;AAGpB,cAAG,OAAO,MAAP,CAAc,MAAd,EAAqB;AACtB,mBAAO,iBAAP,CAAyB,IAAzB,CAA8B,MAA9B,EADsB;;AAGtB,mBAAO,YAAP,CAAoB,GAApB,CAAwB,UAAS,KAAT,EAAgB,CAAhB,EAAkB;AACxC,kBAAG,MAAM,MAAN,KAAiB,CAAjB,EACD,OAAO,YAAP,CAAoB,MAAM,CAAN,CAApB,EADF,KAGE,OAAO,kBAAP,CAA0B,IAA1B,CAA+B,MAA/B,EAAuC,KAAvC,EAA8C,CAA9C,EAHF;aADsB,CAAxB,CAHsB;;AAUtB,gBAAI,CAAC,OAAO,UAAP,EAAmB,OAAO,UAAP,GAAxB;AACA,mBAAO,gBAAP,GAXsB;AAYtB,mBAAO,sBAAP,GAZsB;AAatB,gBAAG,OAAO,uBAAP,EACD,OAAO,WAAP,GADF,KAGE,OAAO,oBAAP,CAA4B,OAAO,gBAAP,CAA5B,CAHF;WAbF,MAkBK;AACH,mBAAO,2BAAP,CAAmC,IAAnC,CAAwC,MAAxC,EADG;WAlBL;SAHF,MAyBK,IAAG,KAAK,MAAL,IAAe,GAAf,EAAoB;AAC1B,iBAAO,2BAAP,CAAmC,IAAnC,CAAwC,MAAxC,EAD0B;AAE1B,kBAAQ,GAAR,CAAY,wBAAZ,EAF0B;SAAvB,MAIA;AACH,iBAAO,2BAAP,CAAmC,IAAnC,CAAwC,MAAxC,EADG;AAEH,kBAAQ,GAAR,CAAY,4CAAZ,EAFG;SAJA;OA1BP;;;;uCAsCiB,OAAO,OAAM;;;AAC9B,UAAI,mBAAmB,SAAS,aAAT,CAAuB,IAAvB,CAAnB,CAD0B;AAE9B,uBAAiB,SAAjB,CAA2B,GAA3B,CAA+B,eAA/B,EAF8B;AAG9B,uBAAiB,SAAjB,CAA2B,GAA3B,CAA+B,qBAA/B,EAH8B;AAI9B,uBAAiB,KAAjB,CAAuB,KAAvB,GAAmC,KAAK,MAAL,CAAY,KAAZ,GAAoB,KAAK,UAAL,GAAkB,CAAlB,OAAvD,CAJ8B;AAK9B,uBAAiB,KAAjB,CAAuB,MAAvB,GAAmC,KAAK,mBAAL,GAA2B,KAAK,UAAL,GAAkB,CAAlB,OAA9D,CAL8B;;AAO9B,UAAI,YAAY,SAAS,aAAT,CAAuB,IAAvB,CAAZ,CAP0B;AAQ9B,gBAAU,SAAV,CAAoB,GAApB,CAAwB,aAAxB,EAR8B;AAS9B,gBAAU,SAAV,CAAoB,GAApB,CAAwB,iBAAiB,KAAjB,CAAxB,CAT8B;;AAW9B,YAAM,GAAN,CAAU,UAAC,KAAD,EAAU;AAClB,eAAK,YAAL,CAAkB,KAAlB,EAAyB,SAAzB,EADkB;OAAV,CAAV,CAX8B;;AAe9B,uBAAiB,WAAjB,CAA6B,SAA7B,EAf8B;AAgB9B,WAAK,UAAL,CAAgB,WAAhB,CAA4B,gBAA5B,EAhB8B;;;;iCAmBnB,OAAO,YAAW;AAC7B,mBAAa,cAAc,KAAK,UAAL,CADE;AAE7B,UAAI,aAAa,KAAK,aAAL,CAAmB,KAAnB,CAAb,CAFyB;AAG7B,iBAAW,WAAX,CAAuB,UAAvB,EAH6B;;;;iCAMlB,IAAG;AACd,WAAI,IAAI,KAAJ,IAAa,KAAK,MAAL,EAAY;AAC3B,YAAG,KAAK,MAAL,CAAY,cAAZ,CAA2B,KAA3B,KAAqC,KAAK,MAAL,CAAY,KAAZ,EAAmB,EAAnB,KAA0B,EAA1B,EAA6B;AACnE,iBAAO,KAAK,MAAL,CAAY,KAAZ,CAAP,CADmE;SAArE;OADF;;;;qCAOe,QAAO;AACtB,UAAI,QAAQ,KAAK,MAAL,CAAY,KAAZ;UACV,SAAS,KAAK,mBAAL,CAFW;;AAItB,aAAO,IAAP,CAAY,UAAS,CAAT,EAAW,CAAX,EAAc;AACxB,YAAI,EAAE,KAAF,GAAU,EAAE,KAAF,EACZ,OAAO,CAAC,CAAD,CADT,KAEK,IAAI,EAAE,KAAF,GAAU,EAAE,KAAF,EACjB,OAAO,CAAP,CADG,KAGH,OAAO,CAAP,CAHG;OAHK,CAAZ,CAJsB;;AAatB,UAAI,QAAQ,EAAR,CAbkB;AActB,aAAO,OAAP,CAAe,UAAS,OAAT,EAAiB;AAC9B,YAAG,QAAQ,KAAR,IAAiB,KAAjB,IAA0B,QAAQ,MAAR,IAAkB,MAAlB,IAA4B,CAAC,KAAD,EAAO;AAC9D,kBAAQ,QAAQ,GAAR,CADsD;SAAhE;OADa,CAAf,CAdsB;AAmBtB,aAAO,KAAP,CAnBsB;;;;gCAsBZ,WAAU;AACpB,UAAG,CAAC,UAAU,SAAV,EAAoB;AACtB,YAAG,OAAO,kBAAP,KAA+B,WAA/B,EAA2C;AAC5C,6BAAmB,KAAnB,GAD4C;SAA9C;AAGA,eAAO,EAAP,CAJsB;OAAxB;AAMA,kBAAY,UAAU,SAAV,CAAoB,MAApB,CAPQ;AAQpB,UAAI,cAAc,EAAd,CARgB;AASpB,WAAI,IAAI,GAAJ,IAAW,SAAf,EAAyB;AACvB,YAAG,UAAU,cAAV,CAAyB,GAAzB,CAAH,EAAiC;AAC/B,cAAI,eAAe,EAAf,CAD2B;;AAG/B,uBAAa,EAAb,GAAkB,UAAU,GAAV,EAAe,EAAf,CAHa;AAI/B,uBAAa,GAAb,GAAmB,UAAU,GAAV,EAAe,GAAf,CAJY;AAK/B,uBAAa,IAAb,GAAoB,UAAU,GAAV,EAAe,IAAf,CALW;;AAO/B,uBAAa,IAAb,GAAoB;AAClB,iBAAK,UAAU,GAAV,EAAe,KAAf,CAAqB,KAArB,CAA2B,SAA3B;AACL,kBAAM,UAAU,GAAV,EAAe,KAAf,CAAqB,KAArB,CAA2B,SAA3B;WAFR,CAP+B;;AAY/B,cAAG,UAAU,GAAV,EAAe,cAAf,CAA8B,WAA9B,KAA8C,UAAU,GAAV,EAAe,SAAf,CAAyB,cAAzB,CAAwC,QAAxC,CAA9C,EAAgG;AACjG,gBAAI,QAAQ,UAAU,GAAV,EAAe,SAAf,CAAyB,MAAzB,CAAgC,CAAhC,CAAR,CAD6F;AAEjG,gBAAG,KAAH,EAAS;AACP,kBAAG,MAAM,OAAN,EACD,aAAa,OAAb,GAAuB,MAAM,OAAN,CADzB;;AAGA,kBAAG,MAAM,IAAN,EAAW;AACZ,oBAAG,CAAC,aAAa,OAAb,EAAsB,aAAa,OAAb,GAAuB,EAAvB,CAA1B;AACA,6BAAa,OAAb,CAAqB,IAArB,GAA4B,MAAM,IAAN,CAFhB;eAAd;aAJF;WAFF;;;;;;;;;;;AAZ+B,sBAkC/B,CAAa,GAAb,GAAmB,KAAK,gBAAL,CAAsB,UAAU,GAAV,EAAe,MAAf,CAAzC,CAlC+B;;AAoC/B,sBAAY,IAAZ,CAAiB,YAAjB,EApC+B;SAAjC;OADF;AAyCA,aAAO,WAAP,CAlDoB;;;;gCAsDV,SAAiD;UAAxC,4DAAI,KAAK,MAAL,gBAAoC;UAAvB,8DAAM,kBAAiB;UAAb,+DAAO,qBAAM;;AAC3D,cAAQ,OAAO,IAAP,CAAY,KAAZ,EAAmB,GAAnB,CAAuB,UAAS,GAAT,EAAa;AAC1C,eAAU,YAAO,MAAM,GAAN,CAAjB,CAD0C;OAAb,CAAvB,CAEL,IAFK,CAEA,GAFA,CAAR,CAD2D;;AAK3D,YAAM,CAAC,GAAD,EAAK,KAAL,EAAY,IAAZ,CAAiB,GAAjB,CAAN,CAL2D;;AAO3D,WAAK,OAAL,GAAe,OAAO,cAAP,GAAwB,IAAI,cAAJ,EAAxB,GAA+C,IAAI,aAAJ,CAAkB,mBAAlB,CAA/C,CAP4C;AAQ3D,UAAG,UAAU,MAAV,EAAkB;AACnB,aAAK,OAAL,CAAa,gBAAb,CAA8B,cAA9B,EAA6C,mCAA7C,EADmB;OAArB;AAGA,WAAK,OAAL,CAAa,MAAb,GAAsB,IAAtB,CAX2D;AAY3D,WAAK,OAAL,CAAa,kBAAb,GAAkC,OAAlC,CAZ2D;AAa3D,WAAK,OAAL,CAAa,IAAb,CAAkB,MAAlB,EAA0B,GAA1B,EAA+B,IAA/B,EAb2D;AAc3D,WAAK,OAAL,CAAa,IAAb,GAd2D;;;;sCAkB3C,IAAI,KAAK,SAAQ;AACjC,UAAG,MAAM,GAAN,EAAU;AACX,WAAG,YAAH,CAAgB,UAAhB,EAA4B,GAA5B,EADW;AAEX,WAAG,SAAH,CAAa,GAAb,CAAiB,sBAAjB,EAFW;AAGX,WAAG,gBAAH,CAAoB,OAApB,EAA6B,YAAU;AACrC,cAAI,MAAM,KAAK,YAAL,CAAkB,UAAlB,CAAN,CADiC;AAErC,cAAG,GAAH,EAAO;AACL,gBAAI,MAAM,OAAO,IAAP,CAAY,GAAZ,EAAkB,UAAU,QAAV,GAAqB,OAArB,CAAxB,CADC;AAEL,gBAAI,KAAJ,GAFK;WAAP;SAF2B,CAA7B,CAHW;OAAb;AAWA,aAAO,EAAP,CAZiC;;;;0CAeb,OAAO,KAAK;AAChC,UAAI,CAAC,KAAK,UAAL,EAAiB;AACpB,YAAI,QAAQ,SAAS,aAAT,CAAuB,MAAvB,CAAR,CADgB;AAEpB,cAAM,SAAN,CAAgB,GAAhB,CAAoB,UAApB,EAFoB;AAGpB,cAAM,KAAN,CAAY,eAAZ,aAAsC,UAAtC,CAHoB;AAIpB,cAAM,WAAN,CAAkB,KAAlB,EAJoB;OAAtB;;;;iCAQW,SAAS,KAAK;AACzB,UAAI,KAAK,UAAL,EAAiB;AACnB,YAAI,YAAY,IAAE,CAAK,2BAAL,IAAoC,KAAK,aAAL,CAAmB,GAAnB,CAApC,IAAmE,KAAK,qBAAL,IAA8B,KAAK,gBAAL,CAAsB,GAAtB,CAA9B,CADlE;AAEnB,YAAG,CAAC,SAAD,EAAY,MAAM,EAAN,CAAf;AACA,YAAI,SAAS,SAAS,aAAT,CAAuB,GAAvB,CAAT,CAHe;AAInB,eAAO,WAAP,CAAmB,SAAS,cAAT,CAAwB,SAAxB,CAAnB,EAJmB;AAKnB,eAAO,SAAP,CAAiB,GAAjB,CAAqB,eAArB,EALmB;AAMnB,eAAO,MAAP,GAAgB,QAAhB,CANmB;AAOnB,eAAO,IAAP,GAAc,GAAd,CAPmB;AAQnB,gBAAQ,WAAR,CAAoB,MAApB,EARmB;OAArB;;;;gCAYU;AACV,OAAC,UAAS,CAAT,EAAW,CAAX,EAAa;AAAC,iBAAS,CAAT,CAAW,CAAX,EAAa;AAAC,YAAE,cAAF,CAAiB,uBAAjB,KAA2C,OAAO,cAAP,CAAsB,CAAtB,EAAwB,uBAAxB,EAAgD,IAAI,eAAJ,CAAoB,CAApB,CAAhD,CAA3C,CAAD;SAAb,SAA0I,CAAT,CAAW,CAAX,EAAa,CAAb,EAAe;AAAC,mBAAS,CAAT,CAAW,CAAX,EAAa;AAAC,gBAAI,IAAE,EAAE,KAAF,GAAQ,CAAR,CAAP,CAAiB,GAAE,EAAE,KAAF,CAAnB,CAA2B,CAAE,YAAU;AAAC,gBAAE,EAAF,CAAK,SAAL,IAAgB,IAAE,EAAE,WAAF,CAAnB;aAAV,CAAF,CAA3B;WAAb,SAAgG,CAAT,GAAY;AAAC,cAAE,SAAF,CAAY,MAAZ,CAAmB,YAAnB,EAAD,CAAkC,CAAE,IAAF,CAAO,SAAP,CAAiB,MAAjB,CAAwB,YAAxB,EAAlC,CAAwE,CAAE,mBAAF,CAAsB,WAAtB,EAAkC,CAAlC,EAAxE,CAA6G,CAAE,mBAAF,CAAsB,SAAtB,EAAgC,CAAhC,EAA7G;WAAZ,IAAgK,CAAJ,CAApP,CAA0P,CAAE,gBAAF,CAAmB,WAAnB,EAA+B,UAAS,CAAT,EAAW;AAAC,mBAAO,IAAE,EAAE,KAAF,EAAQ,EAAE,SAAF,CAAY,GAAZ,CAAgB,YAAhB,CAAV,EAAwC,EAAE,IAAF,CAAO,SAAP,CAAiB,GAAjB,CAAqB,YAArB,CAAxC,EAA2E,EAAE,gBAAF,CAAmB,WAAnB,EAA+B,CAA/B,CAA3E,EAA6G,EAAE,gBAAF,CAAmB,SAAnB,EAA6B,CAA7B,CAA7G,EAA6I,CAAC,CAAD,CAArJ;WAAX,CAA/B,CAA1P;SAAf,SAAsd,CAAT,CAAW,CAAX,EAAa;AAAC,eAAI,KAAK,MAAL,GAAY,CAAZ,EAAc,KAAK,GAAL,GAAS,yBAAT,EAAmC,KAAK,OAAL,GAAa,EAAE,aAAF,CAAgB,KAAhB,CAAb,EAAoC,KAAK,OAAL,CAAa,YAAb,CAA0B,OAA1B,EAAkC,YAAlC,CAArF,EAAqI,KAAK,EAAL,GAAQ,EAAE,aAAF,CAAgB,KAAhB,CAAR,EAA+B,KAAK,EAAL,CAAQ,YAAR,CAAqB,OAArB,EAA6B,YAA7B,CAApK,EAA+M,KAAK,OAAL,CAAa,WAAb,CAAyB,KAAK,EAAL,CAAxO,EAAiP,KAAK,MAAL,CAAY,UAAZ;AAAwB,iBAAK,EAAL,CAAQ,WAAR,CAAoB,KAAK,MAAL,CAAY,UAAZ,CAApB;WAA7Q,IAAyT,CAAK,MAAL,CAAY,WAAZ,CAAwB,KAAK,OAAL,CAAxB,CAA1T,IAAgW,CAAK,MAAL,CAAY,kBAAZ,CAA+B,WAA/B,EAA2C,KAAK,GAAL,CAA3C,CAAhW,IAAqZ,CAAK,GAAL,GAAS,KAAK,MAAL,CAAY,SAAZ,CAA9Z,CAAob,CAAE,KAAK,GAAL,EAAS,IAAX,EAApb,IAAqc,CAAK,OAAL,GAArc,IAAod,CAAK,EAAL,CAAQ,gBAAR,CAAyB,QAAzB,EAAkC,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAAlC,EAApd,IAA+gB,CAAK,EAAL,CAAQ,gBAAR,CAAyB,YAAzB,EAAsC,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAAtC,EAA/gB,IAA8kB,CAAK,MAAL,CAAY,SAAZ,CAAsB,GAAtB,CAA0B,cAA1B,EAA9kB;SAAb,SAA8oB,CAAT,GAAY;AAAC,eAAI,IAAI,IAAE,EAAE,gBAAF,CAAmB,iBAAnB,CAAF,EAAwC,IAAE,CAAF,EAAI,IAAE,EAAE,MAAF,EAAS,GAA/D;AAAmE,cAAE,EAAE,CAAF,CAAF;WAAnE;SAAb,IAA4F,IAAE,EAAE,qBAAF,IAAyB,EAAE,YAAF,IAAgB,UAAS,CAAT,EAAW;AAAC,iBAAO,WAAW,CAAX,EAAa,CAAb,CAAP,CAAD;SAAX,CAA31C,CAA+3C,CAAE,SAAF,GAAY,EAAC,SAAQ,mBAAU;AAAC,gBAAI,IAAE,KAAK,EAAL,CAAQ,YAAR;gBAAqB,IAAE,KAAK,EAAL,CAAQ,YAAR;gBAAqB,IAAE,IAAF,CAAnD,IAA0D,CAAK,WAAL,GAAiB,IAAE,CAAF,CAA3E,CAA+E,CAAE,YAAU;AAAC,gBAAE,GAAF,CAAM,KAAN,CAAY,OAAZ,GAAoB,YAAU,IAAE,CAAF,GAAI,GAAJ,GAAQ,SAAlB,GAA4B,EAAE,EAAF,CAAK,SAAL,GAAe,CAAf,GAAiB,GAAjB,GAAqB,WAAjD,IAA8D,EAAE,MAAF,CAAS,WAAT,GAAqB,EAAE,GAAF,CAAM,WAAN,CAAnF,GAAsG,KAAtG,CAArB;aAAV,CAAF,CAA/E;WAAV,EAArB,CAA/3C,CAA8nD,CAAE,gBAAF,CAAmB,kBAAnB,EAAsC,CAAtC,EAA9nD,CAAuqD,CAAE,MAAF,GAAS,CAAT,CAAvqD,CAAkrD,CAAE,OAAF,GAAU,CAAV,CAAlrD,CAA8rD,CAAE,eAAF,GAAkB,CAAlB,CAA9rD;OAAb,CAAD,CAAkuD,MAAluD,EAAyuD,QAAzuD;;AADU,UAGN,aAAa,SAAS,aAAT,CAAuB,KAAvB,CAAb,CAHM;AAIV,sBAAgB,MAAhB,CAAuB,UAAvB,EAJU;;;;kCAOE,YAAW;AACvB,UAAI,aAAa,SAAS,aAAT,CAAuB,KAAvB,CAAb,CADmB;AAEvB,iBAAW,SAAX,CAAqB,GAArB,CAAyB,sBAAzB,EAFuB;;AAIvB,UAAI,QAAQ,SAAS,aAAT,CAAuB,IAAvB,CAAR,CAJmB;AAKvB,YAAM,SAAN,CAAgB,GAAhB,CAAoB,eAApB,EALuB;AAMvB,YAAM,KAAN,CAAY,MAAZ,GAAwB,KAAK,mBAAL,GAA2B,KAAK,UAAL,GAAkB,CAAlB,OAAnD,CANuB;AAOvB,YAAM,KAAN,CAAY,KAAZ,GAAwB,KAAK,MAAL,CAAY,KAAZ,GAAoB,KAAK,UAAL,GAAkB,CAAlB,OAA5C,CAPuB;;AASvB,WAAK,qBAAL,CAA2B,KAA3B,EAAkC,WAAW,GAAX,CAAlC,CATuB;;AAWvB,UAAI,cAAc,SAAS,cAAT,CAAwB,WAAW,IAAX,CAAtC;UACJ,OAAQ,SAAS,aAAT,CAAuB,MAAvB,CAAR,CAZuB;AAavB,WAAK,SAAL,CAAe,GAAf,CAAmB,YAAnB,EAbuB;AAcvB,WAAK,WAAL,CAAiB,WAAjB,EAduB;AAevB,WAAK,iBAAL,CAAuB,IAAvB,EAA6B,WAAW,GAAX,EAAgB,IAA7C,EAfuB;AAgBvB,iBAAW,WAAX,CAAuB,IAAvB,EAhBuB;;AAkBvB,WAAK,YAAL,CAAkB,UAAlB,EAA8B,WAAW,GAAX,CAA9B,CAlBuB;;AAoBvB,UAAI,kBAAkB,SAAS,cAAT,CAAwB,KAAK,UAAL,CAAgB,WAAW,IAAX,CAAxC,CAAlB;UACJ,WAAW,SAAS,aAAT,CAAuB,MAAvB,CAAX,CArBuB;AAsBvB,eAAS,SAAT,CAAmB,GAAnB,CAAuB,YAAvB,EAtBuB;AAuBvB,eAAS,WAAT,CAAqB,eAArB,EAvBuB;;AAyBvB,UAAI,aAAa,SAAS,aAAT,CAAuB,MAAvB,CAAb,CAzBmB;AA0BvB,iBAAW,SAAX,CAAqB,GAArB,CAAyB,mBAAzB,EA1BuB;AA2BvB,iBAAW,WAAX,CAAuB,QAAvB,EA3BuB;AA4BvB,iBAAW,WAAX,CAAuB,UAAvB,EA5BuB;;AA8BvB,UAAG,WAAW,cAAX,CAA0B,SAA1B,CAAH,EAAwC;AACtC,YAAI,iBAAiB,SAAS,aAAT,CAAuB,MAAvB,CAAjB,CADkC;AAEtC,uBAAe,SAAf,CAAyB,GAAzB,CAA6B,iBAA7B,EAFsC;;AAItC,YAAI,WAAW,OAAX,CAAmB,cAAnB,CAAkC,MAAlC,CAAJ,EAA+C;AAC7C,cAAI,kBAAkB,SAAS,cAAT,CAAwB,WAAW,OAAX,CAAmB,IAAnB,CAA1C;cACA,cAAe,SAAS,aAAT,CAAuB,MAAvB,CAAf,CAFyC;AAG7C,sBAAY,SAAZ,CAAsB,GAAtB,CAA0B,eAA1B,EAH6C;AAI7C,sBAAY,SAAZ,CAAsB,GAAtB,CAA0B,oBAA1B,EAJ6C;AAK7C,sBAAY,WAAZ,CAAwB,eAAxB,EAL6C;AAM7C,yBAAe,WAAf,CAA2B,WAA3B,EAN6C;SAA/C;;AASA,YAAI,WAAW,OAAX,CAAmB,cAAnB,CAAkC,OAAlC,CAAJ,EAAgD;AAC9C,cAAI,iBAAiB,SAAS,cAAT,CAAwB,WAAW,OAAX,CAAmB,KAAnB,CAAzC;cACJ,aAAc,SAAS,aAAT,CAAuB,MAAvB,CAAd,CAF8C;AAG9C,qBAAW,SAAX,CAAqB,GAArB,CAAyB,eAAzB,EAH8C;AAI9C,qBAAW,WAAX,CAAuB,cAAvB,EAJ8C;AAK9C,yBAAe,WAAf,CAA2B,UAA3B,EAL8C;SAAhD;;AAQA,YAAI,WAAW,OAAX,CAAmB,cAAnB,CAAkC,OAAlC,CAAJ,EAAgD;AAC9C,cAAI,iBAAiB,SAAS,cAAT,CAAwB,WAAW,OAAX,CAAmB,KAAnB,CAAzC;cACJ,aAAc,SAAS,aAAT,CAAuB,MAAvB,CAAd,CAF8C;AAG9C,qBAAW,SAAX,CAAqB,GAArB,CAAyB,eAAzB,EAH8C;AAI9C,qBAAW,WAAX,CAAuB,cAAvB,EAJ8C;AAK9C,yBAAe,WAAf,CAA2B,UAA3B,EAL8C;SAAhD;;AAQA,mBAAW,WAAX,CAAuB,cAAvB,EA7BsC;OAAxC;;AAgCA,UAAG,WAAW,cAAX,CAA0B,YAA1B,CAAH,EAA4C;AAC1C,YAAI,oBAAoB,SAAS,aAAT,CAAuB,MAAvB,CAApB,CADsC;AAE1C,0BAAkB,SAAlB,CAA4B,GAA5B,CAAgC,kBAAhC,EAF0C;;AAI1C,mBAAW,UAAX,CAAsB,OAAtB,CAA8B,UAAU,OAAV,EAAmB;AAC/C,cAAI,eAAe,SAAS,cAAT,CAAwB,OAAxB,CAAf;cACF,WAAW,SAAS,aAAT,CAAuB,MAAvB,CAAX,CAF6C;AAG/C,mBAAS,SAAT,CAAmB,GAAnB,CAAuB,gBAAvB,EAH+C;AAI/C,mBAAS,WAAT,CAAqB,YAArB,EAJ+C;AAK/C,4BAAkB,WAAlB,CAA8B,QAA9B,EAL+C;SAAnB,CAA9B,CAJ0C;AAW1C,mBAAW,WAAX,CAAuB,iBAAvB,EAX0C;OAA5C;;AAcA,YAAM,WAAN,CAAkB,UAAlB,EA5EuB;;AA8EvB,aAAO,KAAP,CA9EuB;;;;iCAkFZ,IAAG;AACd,mEAA2D,mBAA3D,CADc;;;;;;;;;8BASN,QAAO;AACf,aAAO,KAAK,KAAL,CAAW,OAAO,IAAP,CAAY,MAAZ,CAAX,CAAP,CADe;;;;8BAIP,QAAO;AACf,aAAO,OAAO,IAAP,CAAY,MAAZ,CAAP,CADe;;;;qCAIA,SAAQ;AACvB,aAAO,QAAQ,WAAR,KACL,GADK,IACE,QAAQ,QAAR,KAAqB,CAArB,GAAyB,EAAzB,GAA8B,OAAM,QAAQ,QAAR,KAAoB,CAApB,CAAN,GAA8B,QAAQ,QAAR,KAAqB,CAArB,CAD9D,GAEL,GAFK,IAEE,QAAQ,OAAR,KAAoB,EAApB,GAAyB,MAAK,QAAQ,OAAR,EAAL,GAAwB,QAAQ,OAAR,EAAjD,CAFF,GAGL,GAHK,IAGE,QAAQ,QAAR,KAAqB,EAArB,GAA0B,MAAI,QAAQ,QAAR,EAAJ,GAAwB,QAAQ,QAAR,EAAlD,CAHF,GAIL,GAJK,IAIE,QAAQ,UAAR,KAAuB,EAAvB,GAA4B,MAAI,QAAQ,UAAR,EAAJ,GAA0B,QAAQ,UAAR,EAAtD,CAJF,GAKL,GALK,IAKE,QAAQ,UAAR,KAAuB,EAAvB,GAA4B,MAAI,QAAQ,UAAR,EAAJ,GAA0B,QAAQ,UAAR,EAAtD,CALF,GAML,GANK,CADgB;;;;sCAUP,QAAO;;AAEvB,UAAI,OAAO,IAAI,IAAJ,EAAP;UACF,SAAS,OAAO,WAAP,EAAT;UACA,QAFF;UAEY,OAFZ,CAFuB;;AAMvB,UAAG,UAAU,MAAV,EAAkB;AACnB,mBAAW,IAAI,IAAJ,CAAS,KAAK,WAAL,EAAT,EAA4B,CAA5B,EAA8B,CAA9B,CAAX,CADmB;AAEnB,kBAAU,IAAI,IAAJ,CAAS,KAAK,WAAL,EAAT,EAA4B,EAA5B,EAA+B,CAA/B,CAAV,CAFmB;OAArB,MAIK,IAAG,UAAU,OAAV,EAAkB;AACxB,mBAAW,IAAI,IAAJ,CAAS,KAAK,WAAL,EAAT,EAA6B,KAAK,QAAL,EAA7B,EAA8C,CAA9C,CAAX,CADwB;AAExB,kBAAU,IAAI,IAAJ,CAAS,KAAK,WAAL,EAAT,EAA6B,KAAK,QAAL,KAAkB,CAAlB,EAAqB,CAAlD,CAAV,CAFwB;OAArB,MAIA,IAAG,UAAU,MAAV,EAAiB;AACvB,YAAI,QAAQ,KAAK,OAAL,KAAiB,KAAK,MAAL,EAAjB,CADW;AAEvB,YAAI,OAAO,QAAQ,CAAR,CAFY;AAGvB,mBAAW,IAAI,IAAJ,CAAS,KAAK,OAAL,CAAa,KAAb,CAAT,CAAX,CAHuB;AAIvB,kBAAU,IAAI,IAAJ,CAAS,KAAK,OAAL,CAAa,IAAb,CAAT,CAAV,CAJuB;OAApB,MAKE;AACL,mBAAW,IAAI,IAAJ,CAAS,KAAK,WAAL,EAAT,EAA6B,KAAK,QAAL,EAA7B,EAA8C,KAAK,OAAL,EAA9C,CAAX,CADK;AAEL,kBAAU,IAAI,IAAJ,CAAS,KAAK,WAAL,EAAT,EAA6B,KAAK,QAAL,EAA7B,EAA8C,KAAK,OAAL,EAA9C,CAAV,CAFK;OALF;;AAUL,eAAS,QAAT,CAAkB,CAAlB,EAxBuB,OAwBC,CAAQ,QAAR,CAAiB,EAAjB,EAxBD;AAyBvB,eAAS,UAAT,CAAoB,CAApB,EAzBuB,OAyBC,CAAQ,UAAR,CAAmB,EAAnB,EAzBD;AA0BvB,eAAS,UAAT,CAAoB,CAApB,EA1BuB,OA0BC,CAAQ,UAAR,CAAmB,EAAnB,EA1BD;;AA4BvB,aAAO,CAAC,KAAK,gBAAL,CAAsB,QAAtB,CAAD,EAAkC,KAAK,gBAAL,CAAsB,OAAtB,CAAlC,CAAP,CA5BuB;;;;SAtsCrB;;;AAsuCN,IAAI,wBAAwB,EAAxB;AACJ,CAAC,YAAY;AACX,MAAI,mBAAmB,SAAS,gBAAT,CAA0B,+BAA1B,CAAnB,CADO;AAEX,OAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,iBAAiB,MAAjB,EAAyB,EAAE,CAAF,EAAK;AAChD,0BAAsB,IAAtB,CAA2B,IAAI,gCAAJ,CAAqC,iBAAiB,CAAjB,CAArC,CAA3B,EADgD;GAAlD;CAFD,CAAD","file":"main-widget.js","sourcesContent":["class TicketmasterEventDiscoveryWidget {\r\n\r\n  set config(attrs) { this.widgetConfig = this.loadConfig(attrs); }\r\n  get config() { return this.widgetConfig; }\r\n\r\n  set events(responce){ this.eventsList = this.parseEvents(responce);}\r\n  get events(){ return this.eventsList;}\r\n\r\n  get isListView(){ return this.config.theme === 'listview';}\r\n  get borderSize(){ return this.config.border || 0;}\r\n  get widgetHeight(){ return this.config.height || 600;}\r\n  get widgetContentHeight(){ return this.widgetHeight - (this.isListView ? 0 : 39) || 600;}\r\n\r\n  get eventUrl(){ return \"http://www.ticketmaster.com/event/\"; }\r\n\r\n  get apiUrl(){ return \"https://app.ticketmaster.com/discovery/v2/events.json\"; }\r\n\r\n  get themeUrl() { return \"http://ticketmaster-api-staging.github.io/products-and-docs/widgets/event-discovery/1.0.0/theme/\"; }\r\n\r\n  get portalUrl(){ return \"http://ticketmaster-api-staging.github.io/\"; }\r\n\r\n  get logoUrl() { return \"http://developer.ticketmaster.com/\"; }\r\n\r\n  get legalNoticeUrl() { return \"http://developer.ticketmaster.com/support/terms-of-use/\"; }\r\n\r\n  get questionUrl() { return \"http://developer.ticketmaster.com/support/faq/\"; }\r\n\r\n  get geocodeUrl() { return \"https://maps.googleapis.com/maps/api/geocode/json\"; }\r\n\r\n  get updateExceptions() { return [\"width\", \"height\", \"border\", \"borderradius\", \"colorscheme\", \"layout\", \"affiliateid\", \"propotion\", \"googleapikey\"]}\r\n\r\n  get sliderDelay(){ return 5000; }\r\n\r\n  get sliderRestartDelay(){ return 5000; }\r\n\r\n  get hideMessageDelay(){ return 5000; }\r\n\r\n  get controlHiddenClass(){ return \"events_control-hidden\"; }\r\n\r\n  get tmWidgetWhiteList(){ return [\"2200504BAD4C848F\", \"00005044BDC83AE6\", \"1B005068DB60687F\", \"1B004F4DBEE45E47\", \"3A004F4ED7829D5E\", \"3A004F4ED1FC9B63\", \"1B004F4FF83289C5\", \"1B004F4FC0276888\", \"0E004F4F3B7DC543\", \"1D004F4F09C61861\", \"1600505AC9A972A1\", \"22004F4FD82795C6\", \"01005057AFF54574\", \"01005056FAD8793A\", \"3A004F4FB2453240\", \"22004F50D2149AC6\", \"01005059AD49507A\", \"01005062B4236D5D\"]; }\r\n\r\n  isConfigAttrExistAndNotEmpty(attr) {\r\n    if( !this.config.hasOwnProperty(attr) || this.config[attr] === \"undefined\"){\r\n      return false;\r\n    }else if( this.config[attr] === \"\"){\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  \r\n  get eventReqAttrs(){\r\n    let attrs = {},\r\n    params = [\r\n      {\r\n        attr: 'tmapikey',\r\n        verboseName: 'apikey'\r\n      },\r\n      {\r\n        attr: 'keyword',\r\n        verboseName: 'keyword'\r\n      },\r\n      {\r\n        attr: 'size',\r\n        verboseName: 'size'\r\n      },\r\n      {\r\n        attr: 'radius',\r\n        verboseName: 'radius'\r\n      },\r\n      {\r\n        attr: 'attractionid',\r\n        verboseName: 'attractionId'\r\n      },\r\n      {\r\n        attr: 'promoterid',\r\n        verboseName: 'promoterId'\r\n      },\r\n      {\r\n        attr: 'venueid',\r\n        verboseName: 'venueId'\r\n      },\r\n      {\r\n        attr: 'segmentid',\r\n        verboseName: 'segmentId'\r\n      }\r\n    ];\r\n\r\n    for(let i in params){\r\n      let item = params[i];\r\n      if(this.isConfigAttrExistAndNotEmpty(item.attr))\r\n        attrs[item.verboseName] = this.config[item.attr];\r\n    }\r\n\r\n    // Only one allowed at the same time\r\n    if(this.config.latlong){\r\n      attrs.latlong = this.config.latlong;\r\n    }else{\r\n      if(this.isConfigAttrExistAndNotEmpty(\"postalcode\"))\r\n        attrs.postalCode = this.config.postalcode;\r\n    }\r\n\r\n    if(this.isConfigAttrExistAndNotEmpty(\"period\")){\r\n      let period = this.getDateFromPeriod(this.config.period);\r\n      attrs.startDateTime = period[0];\r\n      attrs.endDateTime = period[1];\r\n    }\r\n\r\n    return attrs;\r\n  }\r\n\r\n  //https://app.ticketmaster.com/discovery/v1/events/10004F84CD1C5395/images.json?apikey=KRUnjq8y8Sg5eDpP90dNzOK70d4WiUst\r\n\r\n  constructor(root) {\r\n    if(!root) return;\r\n    this.widgetRoot = root;\r\n\r\n    this.eventsRootContainer = document.createElement(\"div\");\r\n    this.eventsRootContainer.classList.add(\"events-root-container\");\r\n    this.widgetRoot.appendChild(this.eventsRootContainer);\r\n\r\n    this.eventsRootDiv = document.createElement(\"div\");\r\n    this.eventsRootDiv.setAttribute(\"class\", \"ss\");\r\n    this.eventsRootDiv.setAttribute(\"ss-container\", \"\");\r\n    this.eventsRootContainer.appendChild(this.eventsRootDiv);\r\n\r\n    this.eventsRoot = document.createElement(\"ul\");\r\n    this.eventsRoot.classList.add(\"events-root\");\r\n    this.eventsRootDiv.appendChild(this.eventsRoot);\r\n\r\n    // Set theme modificators\r\n    this.themeModificators = {\r\n      \"oldschool\" : this.oldSchoolModificator.bind(this),\r\n      \"newschool\" : this.newSchoolModificator.bind(this),\r\n      \"listview\" : this.listViewModificator.bind(this)\r\n    };\r\n\r\n    this.config = this.widgetRoot.attributes;\r\n\r\n    if(this.config.theme !== null && !document.getElementById(`widget-theme-${this.config.theme}`)){\r\n      this.makeRequest( this.styleLoadingHandler, this.themeUrl + this.config.theme + \".css\" );\r\n    }\r\n\r\n    this.eventsRootContainer.classList.remove(\"border\");\r\n    if(this.config.border){\r\n      this.eventsRootContainer.classList.add(\"border\");\r\n    }\r\n\r\n    this.widgetRoot.style.height = `${this.widgetHeight}px`;\r\n    this.widgetRoot.style.width  = `${this.config.width}px`;\r\n\r\n    this.eventsRootContainer.style.height = `${this.widgetContentHeight}px`;\r\n    this.eventsRootContainer.style.width  = `${this.config.width}px`;\r\n    this.eventsRootContainer.style.borderRadius = `${this.config.borderradius}px`;\r\n    this.eventsRootContainer.style.borderWidth = `${this.borderSize}px`;\r\n\r\n    //this.clear();\r\n\r\n    this.AdditionalElements();\r\n\r\n    this.getCoordinates(() => {\r\n      this.makeRequest( this.eventsLoadingHandler, this.apiUrl, this.eventReqAttrs );\r\n    });\r\n\r\n    if( this.themeModificators.hasOwnProperty( this.widgetConfig.theme ) ) {\r\n      this.themeModificators[ this.widgetConfig.theme ]();\r\n    }\r\n\r\n    /*plugins for 'buy button'*/\r\n    this.embedUniversePlugin();\r\n    this.embedTMPlugin();\r\n\r\n    this.initBuyBtn();\r\n\r\n    this.initMessage();\r\n\r\n    if (!this.isListView) this.initSliderControls();\r\n\r\n    if (!this.isListView) this.initEventCounter();\r\n\r\n    if (this.isListView) this.addScroll();\r\n  }\r\n  \r\n  getCoordinates(cb){\r\n    let widget = this;\r\n\r\n    function parseGoogleGeocodeResponse(){\r\n      if (this && this.readyState === XMLHttpRequest.DONE ) {\r\n        let latlong = '',\r\n          results = null,\r\n          countryShortName = '';\r\n        if(this.status === 200) {\r\n          let response = JSON.parse(this.responseText);\r\n          if(response.status === 'OK' && response.results.length){\r\n            // Use first item if multiple results was found in one country or in different\r\n            results = response.results;\r\n            let geometry = results[0].geometry;\r\n            countryShortName = results[0].address_components[results[0].address_components.length - 1].short_name;\r\n\r\n            // If multiple results without country try to find USA as prefer value\r\n            if(!widget.config.country){\r\n              for(let i in results){\r\n                let result = results[i];\r\n                if(result.address_components){\r\n                  let country = result.address_components[result.address_components.length - 1];\r\n                  if(country){\r\n                    if(country.short_name === 'US'){\r\n                      countryShortName = 'US';\r\n                      geometry = result.geometry;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            if(geometry){\r\n              if(geometry.location){\r\n                latlong = `${geometry.location.lat},${geometry.location.lng}`;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // Used in builder\r\n        if(widget.onLoadCoordinate) widget.onLoadCoordinate(results, countryShortName);\r\n        widget.config.latlong = latlong;\r\n        cb(widget.config.latlong);\r\n      }\r\n    }\r\n\r\n    if(this.isConfigAttrExistAndNotEmpty('postalcode')){\r\n      let args = {components: `postal_code:${widget.config.postalcode}`};\r\n      if(widget.config.googleapikey) args.key = widget.config.googleapikey;\r\n      if(this.config.country) args.components += `|country:${this.config.country}`;\r\n      this.makeRequest( parseGoogleGeocodeResponse, this.geocodeUrl, args);\r\n    }else{\r\n      // Used in builder\r\n      if(widget.onLoadCoordinate) widget.onLoadCoordinate(null);\r\n      widget.config.latlong = '';\r\n      widget.config.country = '';\r\n      cb(widget.config.latlong);\r\n    }\r\n  }\r\n\r\n  initBuyBtn(){\r\n    this.buyBtn = document.createElement(\"a\");\r\n    this.buyBtn.appendChild(document.createTextNode('BUY NOW'));\r\n    this.buyBtn.classList.add(\"event-buy-btn\");\r\n    this.buyBtn.classList.add(\"main-btn\");\r\n    this.buyBtn.target = '_blank';\r\n    this.buyBtn.href = '';\r\n    this.buyBtn.addEventListener('click', (e)=> {\r\n      e.preventDefault(); /*used in plugins for 'buy button'*/\r\n      this.stopAutoSlideX();\r\n      //console.log(this.config.affiliateid)\r\n    });\r\n    this.eventsRootContainer.appendChild(this.buyBtn);\r\n  }\r\n\r\n  setBuyBtnUrl(){\r\n    if(this.buyBtn){\r\n      let event = this.eventsGroups[this.currentSlideX][this.currentSlideY],\r\n          url = '';\r\n      if(event){\r\n        if(event.url){\r\n\r\n           if((this.isUniversePluginInitialized && this.isUniverseUrl(event.url)) || (this.isTMPluginInitialized && this.isAllowedTMEvent(event.url))){\r\n             url = event.url;\r\n           }\r\n        }\r\n      }\r\n      this.buyBtn.href = url;\r\n    }\r\n  }\r\n\r\n  isUniverseUrl(url){\r\n    return (url.match(/universe.com/g) || url.match(/uniiverse.com/g));\r\n  }\r\n\r\n  isAllowedTMEvent(url){\r\n    for (var t = [/(?:ticketmaster\\.com)\\/(.*\\/)?event\\/([^\\/?#]+)/, /(?:concerts\\.livenation\\.com)\\/(.*\\/)?event\\/([^\\/?#]+)/], n = null, r = 0; r < t.length && (n = url.match(t[r]), null === n); r++);\r\n    let id = (null !== n ? n[2] : void 0);\r\n    return (this.tmWidgetWhiteList.indexOf(id) > -1);\r\n  }\r\n\r\n  embedTMPlugin(){\r\n    let id = 'id_tm_widget';\r\n    if( !document.getElementById(id) ) {\r\n      let script = document.createElement('script');\r\n      script.setAttribute('src', this.portalUrl + 'scripts/vendors/tm.js');\r\n      script.setAttribute('type', 'text/javascript');\r\n      script.setAttribute('charset', 'UTF-8');\r\n      script.setAttribute('id', id);\r\n      (document.head || document.getElementsByTagName('head')[0]).appendChild(script);\r\n    }\r\n    this.isTMPluginInitialized = true;\r\n  }\r\n\r\n  embedUniversePlugin(){\r\n    let id = 'id_universe_widget';\r\n    if( !document.getElementById(id) ){\r\n      let script = document.createElement('script');\r\n      script.setAttribute('src', 'https://www.universe.com/embed.js');\r\n      script.setAttribute('type', 'text/javascript');\r\n      script.setAttribute('charset', 'UTF-8');\r\n      script.setAttribute('id', id);\r\n      (document.head || document.getElementsByTagName('head')[0]).appendChild(script);\r\n    }\r\n    this.isUniversePluginInitialized = true;\r\n  }\r\n\r\n  // Message\r\n  initMessage(){\r\n    this.messageDialog = document.createElement('div');\r\n    this.messageDialog.classList.add(\"event-message\");\r\n    this.messageContent = document.createElement('div');\r\n    this.messageContent.classList.add(\"event-message__content\");\r\n\r\n    let messageClose = document.createElement('div');\r\n    messageClose.classList.add(\"event-message__btn\");\r\n    messageClose.addEventListener(\"click\", ()=> {\r\n      this.hideMessage();\r\n    });\r\n\r\n    this.messageDialog.appendChild(this.messageContent);\r\n    this.messageDialog.appendChild(messageClose);\r\n    this.eventsRootContainer.appendChild(this.messageDialog);\r\n  }\r\n\r\n  showMessage(message, hideMessageWithoutDelay){\r\n    if(message.length){\r\n      this.hideMessageWithoutDelay = hideMessageWithoutDelay;\r\n      this.messageContent.innerHTML = message;\r\n      this.messageDialog.classList.add(\"event-message-visible\");\r\n      if (this.messageTimeout) {\r\n        clearTimeout(this.messageTimeout); // Clear timeout if before 'hideMessageWithDelay' was called\r\n      }\r\n    }\r\n  }\r\n\r\n  hideMessageWithDelay(delay){\r\n    if(this.messageTimeout) clearTimeout(this.messageTimeout); // Clear timeout if this method was called before\r\n    this.messageTimeout = setTimeout(()=>{\r\n      this.hideMessage();\r\n    }, delay);\r\n  }\r\n\r\n  hideMessage(){\r\n    if(this.messageTimeout) clearTimeout(this.messageTimeout); // Clear timeout and hide message immediately.\r\n    this.messageDialog.classList.remove(\"event-message-visible\");\r\n  }\r\n  // End message\r\n\r\n  AdditionalElements(){\r\n    var legalNoticeContent = document.createTextNode('Legal Notice'),\r\n        legalNotice = document.createElement(\"a\");\r\n    legalNotice.appendChild(legalNoticeContent);\r\n    legalNotice.classList.add(\"legal-notice\");\r\n    legalNotice.target = '_blank';\r\n    legalNotice.href = this.legalNoticeUrl;\r\n    this.widgetRoot.appendChild(legalNotice);\r\n\r\n    var logo = document.createElement('a');\r\n    logo.classList.add(\"event-logo\");\r\n    logo.target = '_blank';\r\n    logo.href = this.logoUrl;\r\n\r\n    var logoBox = document.createElement('div');\r\n    logoBox.classList.add(\"event-logo-box\");\r\n    logoBox.appendChild(logo);\r\n    this.eventsRootContainer.appendChild(logoBox);\r\n\r\n    let question = document.createElement('a');\r\n    question.classList.add(\"event-question\");\r\n    question.target = '_blank';\r\n    question.href = this.questionUrl;\r\n    this.eventsRootContainer.appendChild(question);\r\n  }\r\n\r\n  //adds general admission element for OLDSCHOOL theme\r\n  oldSchoolModificator(){\r\n\r\n    var generalAdmissionWrapper = document.createElement(\"div\");\r\n        generalAdmissionWrapper.classList.add(\"general-admission\", \"modificator\");\r\n\r\n    var generalAdmission = document.createElement(\"div\"),\r\n        generalAdmissionText = document.createTextNode('GENERAL ADMISSION');\r\n        generalAdmission.appendChild(generalAdmissionText);\r\n        generalAdmissionWrapper.appendChild(generalAdmission);\r\n\r\n    this.eventsRootContainer.appendChild(generalAdmissionWrapper);\r\n  }\r\n\r\n  newSchoolModificator(){\r\n    var ticketLogo = document.createElement(\"div\");\r\n    ticketLogo.classList.add(\"ticket-logo\", \"modificator\");\r\n\r\n    for(let i = 0; i < 4; i++){\r\n      let headLogo = document.createElement(\"img\");\r\n      headLogo.setAttribute(\"src\", this.logoUrl + \"assets/img/footer/ticketmaster-logo-white.svg\");\r\n      //TODO: change before move to live\r\n      // headLogo.setAttribute(\"src\", this.logoUrl + \"assets/widgets/1.0.0/img/ticketmaster-logo-white.svg\");\r\n      headLogo.setAttribute(\"height\", \"11\");\r\n      ticketLogo.appendChild(headLogo);\r\n    }\r\n\r\n    this.eventsRootContainer.appendChild(ticketLogo);\r\n  }\r\n\r\n  listViewModificator(){\r\n  }\r\n\r\n  hideSliderControls(){\r\n    this.prevEventX.classList.add(this.controlHiddenClass);\r\n    this.nextEventX.classList.add(this.controlHiddenClass);\r\n    this.prevEventY.classList.add(this.controlHiddenClass);\r\n    this.nextEventY.classList.add(this.controlHiddenClass);\r\n  }\r\n\r\n\r\n  toggleControlsVisibility(){\r\n    // Horizontal\r\n    if(this.slideCountX > 1){\r\n      this.prevEventX.classList.remove(this.controlHiddenClass);\r\n      this.nextEventX.classList.remove(this.controlHiddenClass);\r\n      if(this.currentSlideX === 0){\r\n        this.prevEventX.classList.add(this.controlHiddenClass);\r\n      }else if(this.currentSlideX === this.slideCountX - 1){\r\n        this.nextEventX.classList.add(this.controlHiddenClass);\r\n      }\r\n    }else{\r\n      this.prevEventX.classList.add(this.controlHiddenClass);\r\n      this.nextEventX.classList.add(this.controlHiddenClass);\r\n    }\r\n\r\n    // Vertical\r\n    if(this.eventsGroups.length){\r\n      if(this.eventsGroups[this.currentSlideX].length > 1){\r\n        this.prevEventY.classList.remove(this.controlHiddenClass);\r\n        this.nextEventY.classList.remove(this.controlHiddenClass);\r\n        if(this.currentSlideY === 0){\r\n          this.prevEventY.classList.add(this.controlHiddenClass);\r\n        }else if(this.currentSlideY === this.eventsGroups[this.currentSlideX].length - 1){\r\n          this.nextEventY.classList.add(this.controlHiddenClass);\r\n        }\r\n      }else{\r\n        this.prevEventY.classList.add(this.controlHiddenClass);\r\n        this.nextEventY.classList.add(this.controlHiddenClass);\r\n      }\r\n    }else{\r\n      this.prevEventY.classList.add(this.controlHiddenClass);\r\n      this.nextEventY.classList.add(this.controlHiddenClass);\r\n    }\r\n  }\r\n\r\n  prevSlideX(){\r\n    if(this.currentSlideX > 0){\r\n      this.setSlideManually(this.currentSlideX - 1, true);\r\n    }\r\n  }\r\n\r\n  nextSlideX(){\r\n    if(this.slideCountX - 1 > this.currentSlideX) {\r\n      this.setSlideManually(this.currentSlideX + 1, true);\r\n    }\r\n  }\r\n\r\n  prevSlideY(){\r\n    if(this.currentSlideY > 0){\r\n      this.setSlideManually(this.currentSlideY - 1, false);\r\n    }\r\n  }\r\n\r\n  nextSlideY(){\r\n    if(this.eventsGroups[this.currentSlideX].length - 1 > this.currentSlideY) {\r\n      this.setSlideManually(this.currentSlideY + 1, false);\r\n    }\r\n  }\r\n\r\n  setSlideManually(slideIndex, isDirectionX){\r\n    this.stopAutoSlideX();\r\n    this.sliderTimeout = setTimeout(()=>{\r\n      this.runAutoSlideX();\r\n    }, this.sliderRestartDelay);\r\n    if(isDirectionX)\r\n      this.goToSlideX(slideIndex);\r\n    else\r\n      this.goToSlideY(slideIndex);\r\n  }\r\n\r\n  goToSlideX(slideIndex){\r\n    if(this.currentSlideX === slideIndex) return;\r\n    this.currentSlideY = 0;\r\n    this.currentSlideX = slideIndex;\r\n    this.eventsRoot.style.marginLeft = `-${this.currentSlideX * 100}%`;\r\n    this.toggleControlsVisibility();\r\n    this.setEventsCounter();\r\n    this.setBuyBtnUrl();\r\n  }\r\n\r\n  goToSlideY(slideIndex){\r\n    if(this.currentSlideY === slideIndex) return;\r\n    this.currentSlideY = slideIndex;\r\n    let eventGroup = this.eventsRoot.getElementsByClassName(\"event-group-\" + this.currentSlideX);\r\n    if(eventGroup.length){\r\n      eventGroup = eventGroup[0];\r\n      eventGroup.style.marginTop = `-${this.currentSlideY * (this.widgetContentHeight - this.borderSize * 2)}px`;\r\n      this.toggleControlsVisibility();\r\n      this.setBuyBtnUrl();\r\n    }\r\n  }\r\n\r\n  runAutoSlideX(){\r\n    if(this.slideCountX > 1) {\r\n      this.sliderInterval = setInterval(()=> {\r\n        var slideIndex = 0;\r\n        if (this.slideCountX - 1 > this.currentSlideX) slideIndex = this.currentSlideX + 1;\r\n        this.goToSlideX(slideIndex);\r\n      }, this.sliderDelay);\r\n    }\r\n  }\r\n\r\n  stopAutoSlideX(){\r\n    if(this.sliderTimeout) clearTimeout(this.sliderTimeout);\r\n    if(this.sliderInterval) clearInterval(this.sliderInterval);\r\n  }\r\n\r\n  initSliderControls(){\r\n    this.currentSlideX = 0;\r\n    this.currentSlideY = 0;\r\n    this.slideCountX = 0;\r\n    let coreCssClass = 'events_control';\r\n\r\n    // left btn\r\n    this.prevEventX = document.createElement(\"div\");\r\n    let prevEventXClass = [coreCssClass, coreCssClass + '-horizontal', coreCssClass + '-left', this.controlHiddenClass];\r\n    for(let i in prevEventXClass){\r\n      this.prevEventX.classList.add(prevEventXClass[i]);\r\n    }\r\n    this.eventsRootContainer.appendChild(this.prevEventX);\r\n\r\n    // right btn\r\n    this.nextEventX = document.createElement(\"div\");\r\n    let nextEventXClass = [coreCssClass, coreCssClass + '-horizontal', coreCssClass + '-right', this.controlHiddenClass];\r\n    for(let i in nextEventXClass){\r\n      this.nextEventX.classList.add(nextEventXClass[i]);\r\n    }\r\n    this.eventsRootContainer.appendChild(this.nextEventX);\r\n\r\n    // top btn\r\n    this.prevEventY = document.createElement(\"div\");\r\n    let prevEventYClass = [coreCssClass, coreCssClass + '-vertical', coreCssClass + '-top', this.controlHiddenClass];\r\n    for(let i in prevEventYClass ){\r\n      this.prevEventY.classList.add(prevEventYClass[i]);\r\n    }\r\n    this.eventsRootContainer.appendChild(this.prevEventY);\r\n\r\n    // bottom btn\r\n    this.nextEventY = document.createElement(\"div\");\r\n    let nextEventYClass = [coreCssClass, coreCssClass + '-vertical', coreCssClass + '-bottom', this.controlHiddenClass];\r\n    for(let i in nextEventYClass){\r\n      this.nextEventY.classList.add(nextEventYClass[i]);\r\n    }\r\n    this.eventsRootContainer.appendChild(this.nextEventY);\r\n\r\n    // Restore events group position\r\n    function whichTransitionEvent(){\r\n      let el = document.createElement('fakeelement'),\r\n        transitions = {\r\n          'transition':'transitionend',\r\n          'OTransition':'oTransitionEnd',\r\n          'MozTransition':'transitionend',\r\n          'WebkitTransition':'webkitTransitionEnd'\r\n        };\r\n\r\n      for(let event in transitions){\r\n        if( el.style[event] !== undefined ) return transitions[event];\r\n      }\r\n    }\r\n\r\n    var transitionEvent = whichTransitionEvent();\r\n    transitionEvent && this.eventsRoot.addEventListener(transitionEvent, (e)=> {\r\n      if (this.eventsRoot !== e.target) return;\r\n      let eventGroup = this.eventsRoot.getElementsByClassName(\"event-group\");\r\n      // Reset all groups. We don't know what event group was visible before.\r\n      for(let i = 0; eventGroup.length > i; i++){\r\n        eventGroup[i].style.marginTop = 0;\r\n      }\r\n    });\r\n\r\n    // Arrows\r\n    this.prevEventX.addEventListener(\"click\", ()=> {\r\n      this.prevSlideX();\r\n    });\r\n\r\n    this.nextEventX.addEventListener(\"click\", ()=> {\r\n      this.nextSlideX();\r\n    });\r\n\r\n    this.prevEventY.addEventListener(\"click\", ()=> {\r\n      this.prevSlideY();\r\n    });\r\n\r\n    this.nextEventY.addEventListener(\"click\", ()=> {\r\n      this.nextSlideY();\r\n    });\r\n\r\n    // Tough device swipes\r\n    let xDown = null,\r\n        yDown = null;\r\n\r\n    function handleTouchStart(evt) {\r\n      xDown = evt.touches[0].clientX;\r\n      yDown = evt.touches[0].clientY;\r\n    }\r\n\r\n    function handleTouchMove(evt) {\r\n      if ( ! xDown || ! yDown ) return;\r\n\r\n      let xUp = evt.touches[0].clientX,\r\n          yUp = evt.touches[0].clientY,\r\n          xDiff = xDown - xUp,\r\n          yDiff = yDown - yUp;\r\n\r\n      if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {\r\n        if ( xDiff > 0 )\r\n          this.nextSlideX(); // left swipe\r\n        else\r\n          this.prevSlideX(); // right swipe\r\n      } else {\r\n        if ( yDiff > 0 )\r\n          this.nextSlideY(); // up swipe\r\n        else\r\n          this.prevSlideY(); // down swipe\r\n      }\r\n\r\n      xDown = null;\r\n      yDown = null;\r\n    }\r\n\r\n    this.eventsRootContainer.addEventListener('touchstart', (e)=> {\r\n      if(this.config.theme !== \"listview\") e.preventDefault(); /*used in plugins for 'buy button'*/\r\n      handleTouchStart.call(this, e);\r\n    }, false);\r\n    this.eventsRootContainer.addEventListener('touchmove', (e)=> {\r\n      if(this.config.theme !== \"listview\") e.preventDefault();\r\n      handleTouchMove.call(this, e);\r\n    }, false);\r\n  }\r\n\r\n  initSlider(){\r\n    if(this.sliderInterval) clearInterval(this.sliderInterval);\r\n    if(this.sliderTimeout) clearTimeout(this.sliderTimeout);\r\n    this.slideCountX = this.eventsGroups.length;\r\n    this.eventsRoot.style.marginLeft = '0%';\r\n    this.eventsRoot.style.width = `${this.slideCountX * 100}%`;\r\n    this.currentSlideX = 0;\r\n    this.currentSlideY = 0;\r\n    this.runAutoSlideX();\r\n    this.toggleControlsVisibility();\r\n    this.setBuyBtnUrl();\r\n  }\r\n\r\n  formatDate(date) {\r\n    var result = '';\r\n    if(!date.day) return result; // Day is required\r\n\r\n    function LZ(x) {\r\n      return (x < 0 || x > 9 ? \"\" : \"0\") + x\r\n    }\r\n    var MONTH_NAMES = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],\r\n        DAY_NAMES = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],\r\n        dayArray = date.day.split('-'),\r\n        d = parseInt(dayArray[2]),\r\n        M = parseInt(dayArray[1]);\r\n\r\n    var E = new Date(date.day).getDay();\r\n    result = DAY_NAMES[E] + ', ' + MONTH_NAMES[M - 1] + ' ' + d + ', ' + dayArray[0];\r\n\r\n    if(!date.time) return result;\r\n\r\n    var timeArray = date.time.split(':'),\r\n      H = parseInt(timeArray[0]),\r\n      m = timeArray[1],\r\n      a = \"AM\";\r\n\r\n    if (H > 11) a = \"PM\";\r\n    if (H == 0) {\r\n      H = 12;\r\n    } else if (H > 12) {\r\n      H = H - 12;\r\n    }\r\n\r\n    return result + ' ' + LZ(H) + ':' + m + ' ' + a;\r\n  }\r\n\r\n  clearEvents(){\r\n    this.eventsRoot.innerHTML = \"\";\r\n  }\r\n\r\n  clear(){\r\n    var modificatorList = this.widgetRoot.getElementsByClassName('modificator');\r\n    while (modificatorList.length) {\r\n      let el = modificatorList[0],\r\n          parent = el.parentNode;\r\n      parent.removeChild(el);\r\n    }\r\n\r\n\r\n    if(!this.isListView) {\r\n      var eventsRootContainer = document.getElementsByClassName(\"events-root-container\")[0];\r\n      var eventsRoot = document.getElementsByClassName(\"events-root\")[0];\r\n      var ss = document.getElementsByClassName(\"ss\")[0];\r\n      ss.parentNode.removeChild(ss);\r\n\r\n      var ssDiv = document.createElement(\"div\");\r\n      ssDiv.setAttribute(\"class\", \"ss\");\r\n      eventsRootContainer.appendChild(ssDiv);\r\n\r\n      var ssDiv = document.getElementsByClassName(\"ss\")[0];\r\n      ssDiv.appendChild(eventsRoot);\r\n\r\n      var eventsRootContainer = document.getElementsByClassName(\"widget-container--discovery\")[0];\r\n      eventsRootContainer.classList.remove(\"listview-after\");\r\n    }\r\n\r\n    if(this.isListView) {\r\n      var eventsRootContainer = document.getElementsByClassName(\"widget-container--discovery\")[0];\r\n      eventsRootContainer.classList.add(\"listview-after\");\r\n    }\r\n\r\n\r\n    this.clearEvents();\r\n  }\r\n\r\n  update() {\r\n\r\n    let oldTheme = this.config.constructor();\r\n    for (let attr in this.config) {\r\n      if (this.config.hasOwnProperty(attr)) oldTheme[attr] = this.config[attr];\r\n    }\r\n\r\n    this.config = this.widgetRoot.attributes;\r\n\r\n    if(this.isListView) {\r\n      this.stopAutoSlideX();\r\n    }\r\n\r\n    /*if(this.config.theme !== null){\r\n      this.makeRequest( this.styleLoadingHandler, this.themeUrl + this.config.theme + \".css\" );\r\n    }*/\r\n\r\n    this.widgetRoot.style.height = `${this.widgetHeight}px`;\r\n    this.widgetRoot.style.width  = `${this.config.width}px`;\r\n    this.eventsRootContainer.style.height = `${this.widgetContentHeight}px`;\r\n    this.eventsRootContainer.style.width  = `${this.config.width}px`;\r\n    this.eventsRootContainer.style.borderRadius = `${this.config.borderradius}px`;\r\n    this.eventsRootContainer.style.borderWidth = `${this.borderSize}px`;\r\n\r\n    this.eventsRootContainer.classList.remove(\"border\");\r\n    if( this.config.hasOwnProperty(\"border\") ){\r\n      this.eventsRootContainer.classList.add(\"border\");\r\n    }\r\n\r\n    if(this.needToUpdate(this.config, oldTheme, this.updateExceptions)){\r\n      this.clear();\r\n\r\n      if( this.themeModificators.hasOwnProperty( this.widgetConfig.theme ) ) {\r\n        this.themeModificators[ this.widgetConfig.theme ]();\r\n      }\r\n\r\n      this.getCoordinates(() => {\r\n        this.makeRequest( this.eventsLoadingHandler, this.apiUrl, this.eventReqAttrs );\r\n      });\r\n\r\n      if(this.isListView) this.addScroll();\r\n    }\r\n    else{\r\n      let events = this.eventsRoot.getElementsByClassName(\"event-wrapper\");\r\n      for(let i in events){\r\n        if(events.hasOwnProperty(i) && events[i].style !== undefined){\r\n          events[i].style.width = `${this.config.width - this.borderSize * 2}px`;\r\n          events[i].style.height = `${this.widgetContentHeight - this.borderSize * 2}px`;\r\n        }\r\n      }\r\n      if(!this.isListView) {\r\n        this.goToSlideY(0);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  needToUpdate(newTheme, oldTheme, forCheck = []){\r\n    return Object.keys(newTheme).map(function(key){\r\n      if(forCheck.indexOf(key) > -1) return true;\r\n      //console.warn([key, newTheme[key], oldTheme[key], newTheme[key] === oldTheme[key]])\r\n      return newTheme[key] === oldTheme[key] ;\r\n    }).indexOf(false) > -1\r\n  }\r\n\r\n  loadConfig(NamedNodeMap){\r\n      var config = {};\r\n      Object.keys(NamedNodeMap).map(function(value){\r\n        if( typeof(NamedNodeMap[value].name) !== \"undefined\" && NamedNodeMap[value].name.indexOf(\"w-\") !== -1){\r\n          config[ NamedNodeMap[value].name.replace(/w-/g, \"\").replace(/-/g, \"\") ] = NamedNodeMap[value].value;\r\n        }\r\n      });\r\n      return config;\r\n  }\r\n\r\n  styleLoadingHandler(){\r\n    if (this && this.readyState == XMLHttpRequest.DONE ) {\r\n      if(this.status == 200){\r\n        var style = document.createElement(\"style\");\r\n        style.setAttribute(\"type\",\"text/css\");\r\n        style.setAttribute(\"id\",`widget-theme-${this.widget.config.theme}`);\r\n        style.textContent = this.responseText;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(style);\r\n      }\r\n      else {\r\n        //alert(\"theme wasn't loaded\");\r\n        console.log(\"theme wasn't loaded\");\r\n      }\r\n    }\r\n  }\r\n\r\n  groupEventsByName(){\r\n    let groups = {};\r\n    this.events.map(function(event){\r\n      if (groups[event.name] === undefined) groups[event.name] = [];\r\n      groups[event.name].push(event);\r\n    });\r\n\r\n    this.eventsGroups = [];\r\n    for (let groupName in groups) {\r\n      this.eventsGroups.push(groups[groupName]);\r\n    }\r\n  }\r\n\r\n  initEventCounter(){\r\n    this.eventsCounter = document.createElement(\"div\");\r\n    this.eventsCounter.classList.add(\"events-counter\");\r\n    this.widgetRoot.appendChild(this.eventsCounter);\r\n  }\r\n\r\n  setEventsCounter(){\r\n    if(this.eventsCounter){\r\n      let text = '';\r\n      if(this.eventsGroups.length){\r\n        if(this.eventsGroups.length > 1){\r\n          text = `${this.currentSlideX + 1} of ${this.eventsGroups.length} events`;\r\n        } else {\r\n          text = '1 event';\r\n        }\r\n      }\r\n      this.eventsCounter.innerHTML = text;\r\n    }\r\n  }\r\n\r\n  resetReduceParamsOrder(){\r\n    this.reduceParamsOrder = 0;\r\n  }\r\n\r\n  reduceParamsAndReloadEvents(){\r\n    let eventReqAttrs = {},\r\n      reduceParamsList = [\r\n        ['startDateTime', 'endDateTime', 'country'],\r\n        ['radius'],\r\n        ['postalCode', 'latlong'],\r\n        ['attractionId'],\r\n        ['promoterId'],\r\n        ['segmentId'],\r\n        ['venueId'],\r\n        ['keyword'],\r\n        ['size']\r\n      ];\r\n\r\n    // make copy of params\r\n    for(let key in this.eventReqAttrs){\r\n      eventReqAttrs[key] = this.eventReqAttrs[key]\r\n    }\r\n\r\n    if(!this.reduceParamsOrder) this.reduceParamsOrder = 0;\r\n    if(reduceParamsList.length > this.reduceParamsOrder){\r\n      for(let item in reduceParamsList){\r\n        if(this.reduceParamsOrder >= item){\r\n          for(let i in reduceParamsList[item]){\r\n            delete eventReqAttrs[reduceParamsList[item][i]];\r\n          }\r\n        }\r\n      }\r\n\r\n      if(this.reduceParamsOrder === 0) this.showMessage(\"No results were found.<br/>Here other options for you.\");\r\n      this.reduceParamsOrder++;\r\n      this.makeRequest( this.eventsLoadingHandler, this.apiUrl, eventReqAttrs );\r\n    }else{\r\n      // We haven't any results\r\n      this.showMessage(\"No results were found.\", true);\r\n      this.reduceParamsOrder = 0;\r\n      this.hideSliderControls();\r\n    }\r\n  }\r\n\r\n  eventsLoadingHandler(){\r\n    let widget = this.widget;\r\n    widget.clearEvents(); // Additional clearing after each loading\r\n    if (this && this.readyState == XMLHttpRequest.DONE ) {\r\n      if(this.status == 200){\r\n        widget.events = JSON.parse(this.responseText);\r\n\r\n        if(widget.events.length){\r\n          widget.groupEventsByName.call(widget);\r\n\r\n          widget.eventsGroups.map(function(group, i){\r\n            if(group.length === 1)\r\n              widget.publishEvent(group[0]);\r\n            else\r\n              widget.publishEventsGroup.call(widget, group, i);\r\n          });\r\n\r\n          if (!widget.isListView) widget.initSlider();\r\n          widget.setEventsCounter();\r\n          widget.resetReduceParamsOrder();\r\n          if(widget.hideMessageWithoutDelay)\r\n            widget.hideMessage();\r\n          else\r\n            widget.hideMessageWithDelay(widget.hideMessageDelay);\r\n\r\n        }else{\r\n          widget.reduceParamsAndReloadEvents.call(widget);\r\n        }\r\n      }\r\n      else if(this.status == 400) {\r\n        widget.reduceParamsAndReloadEvents.call(widget);\r\n        console.log('There was an error 400');\r\n      }\r\n      else {\r\n        widget.reduceParamsAndReloadEvents.call(widget);\r\n        console.log('something else other than 200 was returned');\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  publishEventsGroup(group, index){\r\n    let groupNodeWrapper = document.createElement(\"li\");\r\n    groupNodeWrapper.classList.add(\"event-wrapper\");\r\n    groupNodeWrapper.classList.add(\"event-group-wrapper\");\r\n    groupNodeWrapper.style.width  = `${this.config.width - this.borderSize * 2}px`;\r\n    groupNodeWrapper.style.height = `${this.widgetContentHeight - this.borderSize * 2}px`;\r\n\r\n    let groupNode = document.createElement(\"ul\");\r\n    groupNode.classList.add(\"event-group\");\r\n    groupNode.classList.add(\"event-group-\" + index);\r\n\r\n    group.map((event)=> {\r\n      this.publishEvent(event, groupNode)\r\n    });\r\n\r\n    groupNodeWrapper.appendChild(groupNode);\r\n    this.eventsRoot.appendChild(groupNodeWrapper);\r\n  }\r\n\r\n  publishEvent(event, parentNode){\r\n    parentNode = parentNode || this.eventsRoot;\r\n    let DOMElement = this.createDOMItem(event);\r\n    parentNode.appendChild(DOMElement);\r\n  }\r\n\r\n  getEventByID(id){\r\n    for(let index in this.events){\r\n      if(this.events.hasOwnProperty(index) && this.events[index].id === id){\r\n        return this.events[index]\r\n      }\r\n    }\r\n  }\r\n\r\n  getImageForEvent(images){\r\n    var width = this.config.width,\r\n      height = this.widgetContentHeight;\r\n\r\n    images.sort(function(a,b) {\r\n      if (a.width < b.width)\r\n        return -1;\r\n      else if (a.width > b.width)\r\n        return 1;\r\n      else\r\n        return 0;\r\n    });\r\n\r\n    var myImg = \"\";\r\n    images.forEach(function(element){\r\n      if(element.width >= width && element.height >= height && !myImg){\r\n        myImg = element.url;\r\n      }\r\n    });\r\n    return myImg;\r\n  }\r\n\r\n  parseEvents(eventsSet){\r\n    if(!eventsSet._embedded){\r\n      if(typeof($widgetModalNoCode) !== \"undefined\"){\r\n        $widgetModalNoCode.modal();\r\n      }\r\n      return [];\r\n    }\r\n    eventsSet = eventsSet._embedded.events;\r\n    var tmpEventSet = [];\r\n    for(var key in eventsSet){\r\n      if(eventsSet.hasOwnProperty(key)){\r\n        let currentEvent = {};\r\n\r\n        currentEvent.id = eventsSet[key].id;\r\n        currentEvent.url = eventsSet[key].url;\r\n        currentEvent.name = eventsSet[key].name;\r\n\r\n        currentEvent.date = {\r\n          day: eventsSet[key].dates.start.localDate,\r\n          time: eventsSet[key].dates.start.localTime\r\n        };\r\n\r\n        if(eventsSet[key].hasOwnProperty('_embedded') && eventsSet[key]._embedded.hasOwnProperty('venues')){\r\n          let venue = eventsSet[key]._embedded.venues[0];\r\n          if(venue){\r\n            if(venue.address)\r\n              currentEvent.address = venue.address;\r\n\r\n            if(venue.name){\r\n              if(!currentEvent.address) currentEvent.address = {};\r\n              currentEvent.address.name = venue.name;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove this comment to get categories\r\n        /*if(eventsSet[key]._embedded.hasOwnProperty('categories')){\r\n          currentEvent.categories = [];\r\n          let eventCategories = eventsSet[key]._embedded.categories;\r\n          currentEvent.categories = Object.keys(eventCategories).map(function(category){\r\n            return eventCategories[category].name\r\n          });\r\n        }*/\r\n\r\n        currentEvent.img = this.getImageForEvent(eventsSet[key].images);\r\n\r\n        tmpEventSet.push(currentEvent);\r\n\r\n      }\r\n    }\r\n    return tmpEventSet;\r\n  }\r\n\r\n\r\n  makeRequest(handler, url=this.apiUrl, attrs={}, method=\"GET\"){\r\n    attrs = Object.keys(attrs).map(function(key){\r\n      return `${key}=${attrs[key]}`;\r\n    }).join(\"&\");\r\n\r\n    url = [url,attrs].join(\"?\");\r\n\r\n    this.xmlHTTP = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    if(method == \"POST\") {\r\n      this.xmlHTTP.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\r\n    }\r\n    this.xmlHTTP.widget = this;\r\n    this.xmlHTTP.onreadystatechange = handler;\r\n    this.xmlHTTP.open(method, url, true);\r\n    this.xmlHTTP.send();\r\n  }\r\n\r\n\r\n  initPretendedLink(el, url, isBlank){\r\n    if(el && url){\r\n      el.setAttribute('data-url', url);\r\n      el.classList.add(\"event-pretended-link\");\r\n      el.addEventListener('click', function(){\r\n        let url = this.getAttribute('data-url');\r\n        if(url){\r\n          let win = window.open(url, (isBlank ? '_blank' : '_self'));\r\n          win.focus();\r\n        }\r\n      });\r\n    }\r\n    return el;\r\n  }\r\n\r\n  createBackgroundImage(event, img) {\r\n    if (!this.isListView) {\r\n      var image = document.createElement(\"span\");\r\n      image.classList.add(\"bg-cover\");\r\n      image.style.backgroundImage = `url('${img}')`;\r\n      event.appendChild(image);\r\n    }\r\n  }\r\n\r\n  addBuyButton(domNode, url) {\r\n    if (this.isListView) {\r\n      let _urlValid = ( this.isUniversePluginInitialized && this.isUniverseUrl(url) ) || ( this.isTMPluginInitialized && this.isAllowedTMEvent(url) );\r\n      if(!_urlValid) url = '';\r\n      let buyBtn = document.createElement(\"a\");\r\n      buyBtn.appendChild(document.createTextNode('BUY NOW'));\r\n      buyBtn.classList.add(\"event-buy-btn\");\r\n      buyBtn.target = '_blank';\r\n      buyBtn.href = url;\r\n      domNode.appendChild(buyBtn);\r\n    }\r\n  }\r\n\r\n  addScroll() {\r\n    (function(n,t){function u(n){n.hasOwnProperty(\"data-simple-scrollbar\")||Object.defineProperty(n,\"data-simple-scrollbar\",new SimpleScrollbar(n))}function e(n,i){function f(n){var t=n.pageY-u;u=n.pageY;r(function(){i.el.scrollTop+=t/i.scrollRatio})}function e(){n.classList.remove(\"ss-grabbed\");t.body.classList.remove(\"ss-grabbed\");t.removeEventListener(\"mousemove\",f);t.removeEventListener(\"mouseup\",e)}var u;n.addEventListener(\"mousedown\",function(i){return u=i.pageY,n.classList.add(\"ss-grabbed\"),t.body.classList.add(\"ss-grabbed\"),t.addEventListener(\"mousemove\",f),t.addEventListener(\"mouseup\",e),!1})}function i(n){for(this.target=n,this.bar='<div class=\"ss-scroll\">',this.wrapper=t.createElement(\"div\"),this.wrapper.setAttribute(\"class\",\"ss-wrapper\"),this.el=t.createElement(\"div\"),this.el.setAttribute(\"class\",\"ss-content\"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper);this.target.insertAdjacentHTML(\"beforeend\",this.bar);this.bar=this.target.lastChild;e(this.bar,this);this.moveBar();this.el.addEventListener(\"scroll\",this.moveBar.bind(this));this.el.addEventListener(\"mouseenter\",this.moveBar.bind(this));this.target.classList.add(\"ss-container\")}function f(){for(var i=t.querySelectorAll(\"*[ss-container]\"),n=0;n<i.length;n++)u(i[n])}var r=n.requestAnimationFrame||n.setImmediate||function(n){return setTimeout(n,0)};i.prototype={moveBar:function(){var t=this.el.scrollHeight,i=this.el.clientHeight,n=this;this.scrollRatio=i/t;r(function(){n.bar.style.cssText=\"height:\"+i/t*100+\"%; top:\"+n.el.scrollTop/t*100+\"%;right:-\"+(n.target.clientWidth-n.bar.clientWidth)+\"px;\"})}};t.addEventListener(\"DOMContentLoaded\",f);i.initEl=u;i.initAll=f;n.SimpleScrollbar=i})(window,document)\r\n    // var scrollRoot = document.getElementsByClassName(\"ss\")[0];\r\n    var scrollRoot = document.querySelector('.ss');\r\n    SimpleScrollbar.initEl(scrollRoot);\r\n  }\r\n\r\n  createDOMItem(itemConfig){\r\n    var medWrapper = document.createElement(\"div\");\r\n    medWrapper.classList.add(\"event-content-wraper\");\r\n\r\n    var event = document.createElement(\"li\");\r\n    event.classList.add(\"event-wrapper\");\r\n    event.style.height = `${this.widgetContentHeight - this.borderSize * 2}px`;\r\n    event.style.width  = `${this.config.width - this.borderSize * 2}px`;\r\n\r\n    this.createBackgroundImage(event, itemConfig.img);\r\n\r\n    var nameContent = document.createTextNode(itemConfig.name),\r\n    name =  document.createElement(\"span\");\r\n    name.classList.add(\"event-name\");\r\n    name.appendChild(nameContent);\r\n    this.initPretendedLink(name, itemConfig.url, true);\r\n    medWrapper.appendChild(name);\r\n\r\n    this.addBuyButton(medWrapper, itemConfig.url);\r\n\r\n    var dateTimeContent = document.createTextNode(this.formatDate(itemConfig.date)),\r\n    dateTime = document.createElement(\"span\");\r\n    dateTime.classList.add(\"event-date\");\r\n    dateTime.appendChild(dateTimeContent);\r\n\r\n    var dateWraper = document.createElement(\"span\");\r\n    dateWraper.classList.add(\"event-date-wraper\");\r\n    dateWraper.appendChild(dateTime);\r\n    medWrapper.appendChild(dateWraper);\r\n\r\n    if(itemConfig.hasOwnProperty(\"address\")){\r\n      var addressWrapper = document.createElement(\"span\");\r\n      addressWrapper.classList.add(\"address-wrapper\");\r\n\r\n      if( itemConfig.address.hasOwnProperty(\"name\") ){\r\n        var addressNameText = document.createTextNode(itemConfig.address.name),\r\n            addressName =  document.createElement(\"span\");\r\n        addressName.classList.add(\"event-address\");\r\n        addressName.classList.add(\"event-address-name\");\r\n        addressName.appendChild(addressNameText);\r\n        addressWrapper.appendChild(addressName);\r\n      }\r\n\r\n      if( itemConfig.address.hasOwnProperty(\"line1\") ){\r\n        var addressOneText = document.createTextNode(itemConfig.address.line1),\r\n        addressOne =  document.createElement(\"span\");\r\n        addressOne.classList.add(\"event-address\");\r\n        addressOne.appendChild(addressOneText);\r\n        addressWrapper.appendChild(addressOne);\r\n      }\r\n\r\n      if( itemConfig.address.hasOwnProperty(\"line2\") ){\r\n        var addressTwoText = document.createTextNode(itemConfig.address.line2),\r\n        addressTwo =  document.createElement(\"span\");\r\n        addressTwo.classList.add(\"event-address\");\r\n        addressTwo.appendChild(addressTwoText);\r\n        addressWrapper.appendChild(addressTwo);\r\n      }\r\n\r\n      medWrapper.appendChild(addressWrapper);\r\n    }\r\n\r\n    if(itemConfig.hasOwnProperty(\"categories\")) {\r\n      var categoriesWrapper = document.createElement(\"span\");\r\n      categoriesWrapper.classList.add(\"category-wrapper\");\r\n\r\n      itemConfig.categories.forEach(function (element) {\r\n        var categoryText = document.createTextNode(element),\r\n          category = document.createElement(\"span\");\r\n        category.classList.add(\"event-category\");\r\n        category.appendChild(categoryText);\r\n        categoriesWrapper.appendChild(category);\r\n      });\r\n      medWrapper.appendChild(categoriesWrapper);\r\n    }\r\n\r\n    event.appendChild(medWrapper);\r\n\r\n    return event;\r\n  }\r\n\r\n\r\n  makeImageUrl(id){\r\n    return `https://app.ticketmaster.com/discovery/v2/events/${id}/images.json`;\r\n  }\r\n\r\n\r\n  /*\r\n   * Config block\r\n   */\r\n\r\n  decConfig(config){\r\n    return JSON.parse(window.atob(config));\r\n  }\r\n\r\n  encConfig(config){\r\n    return window.btoa(config);\r\n  }\r\n\r\n  toShortISOString(dateObj){\r\n    return dateObj.getFullYear() +\r\n      \"-\" + (dateObj.getMonth() + 1 < 10 ? \"0\"+ (dateObj.getMonth()+ 1): dateObj.getMonth() + 1) +\r\n      \"-\" + (dateObj.getDate() < 10 ? \"0\"+ dateObj.getDate(): dateObj.getDate()) +\r\n      \"T\" + (dateObj.getHours() < 10 ? \"0\"+dateObj.getHours(): dateObj.getHours()) +\r\n      \":\" + (dateObj.getMinutes() < 10 ? \"0\"+dateObj.getMinutes(): dateObj.getMinutes()) +\r\n      \":\" + (dateObj.getSeconds() < 10 ? \"0\"+dateObj.getSeconds(): dateObj.getSeconds()) +\r\n      \"Z\";\r\n  }\r\n\r\n  getDateFromPeriod(period){\r\n\r\n    var date = new Date(),\r\n      period = period.toLowerCase(),\r\n      firstDay, lastDay;\r\n\r\n    if(period == \"year\" ){\r\n      firstDay = new Date(date.getFullYear(),0,1);\r\n      lastDay = new Date(date.getFullYear(),12,0);\r\n    }\r\n    else if(period == \"month\"){\r\n      firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\n      lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);\r\n    }\r\n    else if(period == \"week\"){\r\n      var first = date.getDate() - date.getDay();\r\n      var last = first + 6;\r\n      firstDay = new Date(date.setDate(first));\r\n      lastDay = new Date(date.setDate(last));\r\n    } else {\r\n      firstDay = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n      lastDay = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n    }\r\n\r\n    firstDay.setHours(0);   lastDay.setHours(23);\r\n    firstDay.setMinutes(0); lastDay.setMinutes(59);\r\n    firstDay.setSeconds(0); lastDay.setSeconds(59);\r\n\r\n    return [this.toShortISOString(firstDay), this.toShortISOString(lastDay)];\r\n  }\r\n\r\n}\r\nlet widgetsEventDiscovery = [];\r\n(function () {\r\n  let widgetContainers = document.querySelectorAll(\"div[w-type='event-discovery']\");\r\n  for (let i = 0; i < widgetContainers.length; ++i) {\r\n    widgetsEventDiscovery.push(new TicketmasterEventDiscoveryWidget(widgetContainers[i]));\r\n  }\r\n})();\r\n\r\n\r\n\r\n"]}